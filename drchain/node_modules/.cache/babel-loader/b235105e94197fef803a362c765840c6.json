{"ast":null,"code":"import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport * as React from 'react';\nimport Checkbox from '../checkbox';\nimport Dropdown from '../dropdown';\nimport Menu from '../menu';\nimport Icon from '../icon';\nimport classNames from 'classnames';\n\nvar SelectionCheckboxAll = function (_React$Component) {\n  _inherits(SelectionCheckboxAll, _React$Component);\n\n  function SelectionCheckboxAll(props) {\n    _classCallCheck(this, SelectionCheckboxAll);\n\n    var _this = _possibleConstructorReturn(this, (SelectionCheckboxAll.__proto__ || Object.getPrototypeOf(SelectionCheckboxAll)).call(this, props));\n\n    _this.handleSelectAllChagne = function (e) {\n      var checked = e.target.checked;\n\n      _this.props.onSelect(checked ? 'all' : 'removeAll', 0, null);\n    };\n\n    _this.defaultSelections = props.hideDefaultSelections ? [] : [{\n      key: 'all',\n      text: props.locale.selectAll,\n      onSelect: function onSelect() {}\n    }, {\n      key: 'invert',\n      text: props.locale.selectInvert,\n      onSelect: function onSelect() {}\n    }];\n    _this.state = {\n      checked: _this.getCheckState(props),\n      indeterminate: _this.getIndeterminateState(props)\n    };\n    return _this;\n  }\n\n  _createClass(SelectionCheckboxAll, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.subscribe();\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      this.setCheckState(nextProps);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.unsubscribe) {\n        this.unsubscribe();\n      }\n    }\n  }, {\n    key: 'subscribe',\n    value: function subscribe() {\n      var _this2 = this;\n\n      var store = this.props.store;\n      this.unsubscribe = store.subscribe(function () {\n        _this2.setCheckState(_this2.props);\n      });\n    }\n  }, {\n    key: 'checkSelection',\n    value: function checkSelection(data, type, byDefaultChecked) {\n      var _props = this.props,\n          store = _props.store,\n          getCheckboxPropsByItem = _props.getCheckboxPropsByItem,\n          getRecordKey = _props.getRecordKey; // type should be 'every' | 'some'\n\n      if (type === 'every' || type === 'some') {\n        return byDefaultChecked ? data[type](function (item, i) {\n          return getCheckboxPropsByItem(item, i).defaultChecked;\n        }) : data[type](function (item, i) {\n          return store.getState().selectedRowKeys.indexOf(getRecordKey(item, i)) >= 0;\n        });\n      }\n\n      return false;\n    }\n  }, {\n    key: 'setCheckState',\n    value: function setCheckState(props) {\n      var checked = this.getCheckState(props);\n      var indeterminate = this.getIndeterminateState(props);\n\n      if (checked !== this.state.checked) {\n        this.setState({\n          checked: checked\n        });\n      }\n\n      if (indeterminate !== this.state.indeterminate) {\n        this.setState({\n          indeterminate: indeterminate\n        });\n      }\n    }\n  }, {\n    key: 'getCheckState',\n    value: function getCheckState(props) {\n      var store = props.store,\n          data = props.data;\n      var checked = void 0;\n\n      if (!data.length) {\n        checked = false;\n      } else {\n        checked = store.getState().selectionDirty ? this.checkSelection(data, 'every', false) : this.checkSelection(data, 'every', false) || this.checkSelection(data, 'every', true);\n      }\n\n      return checked;\n    }\n  }, {\n    key: 'getIndeterminateState',\n    value: function getIndeterminateState(props) {\n      var store = props.store,\n          data = props.data;\n      var indeterminate = void 0;\n\n      if (!data.length) {\n        indeterminate = false;\n      } else {\n        indeterminate = store.getState().selectionDirty ? this.checkSelection(data, 'some', false) && !this.checkSelection(data, 'every', false) : this.checkSelection(data, 'some', false) && !this.checkSelection(data, 'every', false) || this.checkSelection(data, 'some', true) && !this.checkSelection(data, 'every', true);\n      }\n\n      return indeterminate;\n    }\n  }, {\n    key: 'renderMenus',\n    value: function renderMenus(selections) {\n      var _this3 = this;\n\n      return selections.map(function (selection, index) {\n        return React.createElement(Menu.Item, {\n          key: selection.key || index\n        }, React.createElement('div', {\n          onClick: function onClick() {\n            _this3.props.onSelect(selection.key, index, selection.onSelect);\n          }\n        }, selection.text));\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props2 = this.props,\n          disabled = _props2.disabled,\n          prefixCls = _props2.prefixCls,\n          selections = _props2.selections,\n          getPopupContainer = _props2.getPopupContainer;\n      var _state = this.state,\n          checked = _state.checked,\n          indeterminate = _state.indeterminate;\n      var selectionPrefixCls = prefixCls + '-selection';\n      var customSelections = null;\n\n      if (selections) {\n        var newSelections = Array.isArray(selections) ? this.defaultSelections.concat(selections) : this.defaultSelections;\n        var menu = React.createElement(Menu, {\n          className: selectionPrefixCls + '-menu',\n          selectedKeys: []\n        }, this.renderMenus(newSelections));\n        customSelections = newSelections.length > 0 ? React.createElement(Dropdown, {\n          overlay: menu,\n          getPopupContainer: getPopupContainer\n        }, React.createElement('div', {\n          className: selectionPrefixCls + '-down'\n        }, React.createElement(Icon, {\n          type: 'down'\n        }))) : null;\n      }\n\n      return React.createElement('div', {\n        className: selectionPrefixCls\n      }, React.createElement(Checkbox, {\n        className: classNames(_defineProperty({}, selectionPrefixCls + '-select-all-custom', customSelections)),\n        checked: checked,\n        indeterminate: indeterminate,\n        disabled: disabled,\n        onChange: this.handleSelectAllChagne\n      }), customSelections);\n    }\n  }]);\n\n  return SelectionCheckboxAll;\n}(React.Component);\n\nexport default SelectionCheckboxAll;","map":{"version":3,"sources":["/Users/administrator/Desktop/DrChain/drchain_frontend/drchain/node_modules/antd/es/table/SelectionCheckboxAll.js"],"names":["_defineProperty","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","Checkbox","Dropdown","Menu","Icon","classNames","SelectionCheckboxAll","_React$Component","props","_this","__proto__","Object","getPrototypeOf","call","handleSelectAllChagne","e","checked","target","onSelect","defaultSelections","hideDefaultSelections","key","text","locale","selectAll","selectInvert","state","getCheckState","indeterminate","getIndeterminateState","value","componentDidMount","subscribe","componentWillReceiveProps","nextProps","setCheckState","componentWillUnmount","unsubscribe","_this2","store","checkSelection","data","type","byDefaultChecked","_props","getCheckboxPropsByItem","getRecordKey","item","i","defaultChecked","getState","selectedRowKeys","indexOf","setState","length","selectionDirty","renderMenus","selections","_this3","map","selection","index","createElement","Item","onClick","render","_props2","disabled","prefixCls","getPopupContainer","_state","selectionPrefixCls","customSelections","newSelections","Array","isArray","concat","menu","className","selectedKeys","overlay","onChange","Component"],"mappings":"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","sourcesContent":["import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport * as React from 'react';\nimport Checkbox from '../checkbox';\nimport Dropdown from '../dropdown';\nimport Menu from '../menu';\nimport Icon from '../icon';\nimport classNames from 'classnames';\n\nvar SelectionCheckboxAll = function (_React$Component) {\n    _inherits(SelectionCheckboxAll, _React$Component);\n\n    function SelectionCheckboxAll(props) {\n        _classCallCheck(this, SelectionCheckboxAll);\n\n        var _this = _possibleConstructorReturn(this, (SelectionCheckboxAll.__proto__ || Object.getPrototypeOf(SelectionCheckboxAll)).call(this, props));\n\n        _this.handleSelectAllChagne = function (e) {\n            var checked = e.target.checked;\n            _this.props.onSelect(checked ? 'all' : 'removeAll', 0, null);\n        };\n        _this.defaultSelections = props.hideDefaultSelections ? [] : [{\n            key: 'all',\n            text: props.locale.selectAll,\n            onSelect: function onSelect() {}\n        }, {\n            key: 'invert',\n            text: props.locale.selectInvert,\n            onSelect: function onSelect() {}\n        }];\n        _this.state = {\n            checked: _this.getCheckState(props),\n            indeterminate: _this.getIndeterminateState(props)\n        };\n        return _this;\n    }\n\n    _createClass(SelectionCheckboxAll, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.subscribe();\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            this.setCheckState(nextProps);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            if (this.unsubscribe) {\n                this.unsubscribe();\n            }\n        }\n    }, {\n        key: 'subscribe',\n        value: function subscribe() {\n            var _this2 = this;\n\n            var store = this.props.store;\n\n            this.unsubscribe = store.subscribe(function () {\n                _this2.setCheckState(_this2.props);\n            });\n        }\n    }, {\n        key: 'checkSelection',\n        value: function checkSelection(data, type, byDefaultChecked) {\n            var _props = this.props,\n                store = _props.store,\n                getCheckboxPropsByItem = _props.getCheckboxPropsByItem,\n                getRecordKey = _props.getRecordKey;\n            // type should be 'every' | 'some'\n\n            if (type === 'every' || type === 'some') {\n                return byDefaultChecked ? data[type](function (item, i) {\n                    return getCheckboxPropsByItem(item, i).defaultChecked;\n                }) : data[type](function (item, i) {\n                    return store.getState().selectedRowKeys.indexOf(getRecordKey(item, i)) >= 0;\n                });\n            }\n            return false;\n        }\n    }, {\n        key: 'setCheckState',\n        value: function setCheckState(props) {\n            var checked = this.getCheckState(props);\n            var indeterminate = this.getIndeterminateState(props);\n            if (checked !== this.state.checked) {\n                this.setState({ checked: checked });\n            }\n            if (indeterminate !== this.state.indeterminate) {\n                this.setState({ indeterminate: indeterminate });\n            }\n        }\n    }, {\n        key: 'getCheckState',\n        value: function getCheckState(props) {\n            var store = props.store,\n                data = props.data;\n\n            var checked = void 0;\n            if (!data.length) {\n                checked = false;\n            } else {\n                checked = store.getState().selectionDirty ? this.checkSelection(data, 'every', false) : this.checkSelection(data, 'every', false) || this.checkSelection(data, 'every', true);\n            }\n            return checked;\n        }\n    }, {\n        key: 'getIndeterminateState',\n        value: function getIndeterminateState(props) {\n            var store = props.store,\n                data = props.data;\n\n            var indeterminate = void 0;\n            if (!data.length) {\n                indeterminate = false;\n            } else {\n                indeterminate = store.getState().selectionDirty ? this.checkSelection(data, 'some', false) && !this.checkSelection(data, 'every', false) : this.checkSelection(data, 'some', false) && !this.checkSelection(data, 'every', false) || this.checkSelection(data, 'some', true) && !this.checkSelection(data, 'every', true);\n            }\n            return indeterminate;\n        }\n    }, {\n        key: 'renderMenus',\n        value: function renderMenus(selections) {\n            var _this3 = this;\n\n            return selections.map(function (selection, index) {\n                return React.createElement(\n                    Menu.Item,\n                    { key: selection.key || index },\n                    React.createElement(\n                        'div',\n                        { onClick: function onClick() {\n                                _this3.props.onSelect(selection.key, index, selection.onSelect);\n                            } },\n                        selection.text\n                    )\n                );\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props2 = this.props,\n                disabled = _props2.disabled,\n                prefixCls = _props2.prefixCls,\n                selections = _props2.selections,\n                getPopupContainer = _props2.getPopupContainer;\n            var _state = this.state,\n                checked = _state.checked,\n                indeterminate = _state.indeterminate;\n\n            var selectionPrefixCls = prefixCls + '-selection';\n            var customSelections = null;\n            if (selections) {\n                var newSelections = Array.isArray(selections) ? this.defaultSelections.concat(selections) : this.defaultSelections;\n                var menu = React.createElement(\n                    Menu,\n                    { className: selectionPrefixCls + '-menu', selectedKeys: [] },\n                    this.renderMenus(newSelections)\n                );\n                customSelections = newSelections.length > 0 ? React.createElement(\n                    Dropdown,\n                    { overlay: menu, getPopupContainer: getPopupContainer },\n                    React.createElement(\n                        'div',\n                        { className: selectionPrefixCls + '-down' },\n                        React.createElement(Icon, { type: 'down' })\n                    )\n                ) : null;\n            }\n            return React.createElement(\n                'div',\n                { className: selectionPrefixCls },\n                React.createElement(Checkbox, { className: classNames(_defineProperty({}, selectionPrefixCls + '-select-all-custom', customSelections)), checked: checked, indeterminate: indeterminate, disabled: disabled, onChange: this.handleSelectAllChagne }),\n                customSelections\n            );\n        }\n    }]);\n\n    return SelectionCheckboxAll;\n}(React.Component);\n\nexport default SelectionCheckboxAll;"]},"metadata":{},"sourceType":"module"}