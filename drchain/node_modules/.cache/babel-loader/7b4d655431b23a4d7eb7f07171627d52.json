{"ast":null,"code":"import _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport List from './list';\nimport Operation from './operation';\nimport Search from './search';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale-provider/default';\n\nfunction noop() {}\n\nvar Transfer = function (_React$Component) {\n  _inherits(Transfer, _React$Component);\n\n  function Transfer(props) {\n    _classCallCheck(this, Transfer);\n\n    var _this = _possibleConstructorReturn(this, (Transfer.__proto__ || Object.getPrototypeOf(Transfer)).call(this, props));\n\n    _this.moveTo = function (direction) {\n      var _this$props = _this.props,\n          _this$props$targetKey = _this$props.targetKeys,\n          targetKeys = _this$props$targetKey === undefined ? [] : _this$props$targetKey,\n          _this$props$dataSourc = _this$props.dataSource,\n          dataSource = _this$props$dataSourc === undefined ? [] : _this$props$dataSourc,\n          onChange = _this$props.onChange;\n      var _this$state = _this.state,\n          sourceSelectedKeys = _this$state.sourceSelectedKeys,\n          targetSelectedKeys = _this$state.targetSelectedKeys;\n      var moveKeys = direction === 'right' ? sourceSelectedKeys : targetSelectedKeys; // filter the disabled options\n\n      var newMoveKeys = moveKeys.filter(function (key) {\n        return !dataSource.some(function (data) {\n          return !!(key === data.key && data.disabled);\n        });\n      }); // move items to target box\n\n      var newTargetKeys = direction === 'right' ? newMoveKeys.concat(targetKeys) : targetKeys.filter(function (targetKey) {\n        return newMoveKeys.indexOf(targetKey) === -1;\n      }); // empty checked keys\n\n      var oppositeDirection = direction === 'right' ? 'left' : 'right';\n\n      _this.setState(_defineProperty({}, _this.getSelectedKeysName(oppositeDirection), []));\n\n      _this.handleSelectChange(oppositeDirection, []);\n\n      if (onChange) {\n        onChange(newTargetKeys, direction, newMoveKeys);\n      }\n    };\n\n    _this.moveToLeft = function () {\n      return _this.moveTo('left');\n    };\n\n    _this.moveToRight = function () {\n      return _this.moveTo('right');\n    };\n\n    _this.handleSelectAll = function (direction, filteredDataSource, checkAll) {\n      var originalSelectedKeys = _this.state[_this.getSelectedKeysName(direction)] || [];\n      var currentKeys = filteredDataSource.map(function (item) {\n        return item.key;\n      }); // Only operate current keys from original selected keys\n\n      var newKeys1 = originalSelectedKeys.filter(function (key) {\n        return currentKeys.indexOf(key) === -1;\n      });\n      var newKeys2 = [].concat(_toConsumableArray(originalSelectedKeys));\n      currentKeys.forEach(function (key) {\n        if (newKeys2.indexOf(key) === -1) {\n          newKeys2.push(key);\n        }\n      });\n      var holder = checkAll ? newKeys1 : newKeys2;\n\n      _this.handleSelectChange(direction, holder);\n\n      if (!_this.props.selectedKeys) {\n        _this.setState(_defineProperty({}, _this.getSelectedKeysName(direction), holder));\n      }\n    };\n\n    _this.handleLeftSelectAll = function (filteredDataSource, checkAll) {\n      return _this.handleSelectAll('left', filteredDataSource, checkAll);\n    };\n\n    _this.handleRightSelectAll = function (filteredDataSource, checkAll) {\n      return _this.handleSelectAll('right', filteredDataSource, checkAll);\n    };\n\n    _this.handleFilter = function (direction, e) {\n      _this.setState(_defineProperty({}, direction + 'Filter', e.target.value));\n\n      if (_this.props.onSearchChange) {\n        _this.props.onSearchChange(direction, e);\n      }\n    };\n\n    _this.handleLeftFilter = function (e) {\n      return _this.handleFilter('left', e);\n    };\n\n    _this.handleRightFilter = function (e) {\n      return _this.handleFilter('right', e);\n    };\n\n    _this.handleClear = function (direction) {\n      _this.setState(_defineProperty({}, direction + 'Filter', ''));\n    };\n\n    _this.handleLeftClear = function () {\n      return _this.handleClear('left');\n    };\n\n    _this.handleRightClear = function () {\n      return _this.handleClear('right');\n    };\n\n    _this.handleSelect = function (direction, selectedItem, checked) {\n      var _this$state2 = _this.state,\n          sourceSelectedKeys = _this$state2.sourceSelectedKeys,\n          targetSelectedKeys = _this$state2.targetSelectedKeys;\n      var holder = direction === 'left' ? [].concat(_toConsumableArray(sourceSelectedKeys)) : [].concat(_toConsumableArray(targetSelectedKeys));\n      var index = holder.indexOf(selectedItem.key);\n\n      if (index > -1) {\n        holder.splice(index, 1);\n      }\n\n      if (checked) {\n        holder.push(selectedItem.key);\n      }\n\n      _this.handleSelectChange(direction, holder);\n\n      if (!_this.props.selectedKeys) {\n        _this.setState(_defineProperty({}, _this.getSelectedKeysName(direction), holder));\n      }\n    };\n\n    _this.handleLeftSelect = function (selectedItem, checked) {\n      return _this.handleSelect('left', selectedItem, checked);\n    };\n\n    _this.handleRightSelect = function (selectedItem, checked) {\n      return _this.handleSelect('right', selectedItem, checked);\n    };\n\n    _this.handleScroll = function (direction, e) {\n      var onScroll = _this.props.onScroll;\n\n      if (onScroll) {\n        onScroll(direction, e);\n      }\n    };\n\n    _this.handleLeftScroll = function (e) {\n      return _this.handleScroll('left', e);\n    };\n\n    _this.handleRightScroll = function (e) {\n      return _this.handleScroll('right', e);\n    };\n\n    _this.renderTransfer = function (locale) {\n      var _this$props2 = _this.props,\n          _this$props2$prefixCl = _this$props2.prefixCls,\n          prefixCls = _this$props2$prefixCl === undefined ? 'ant-transfer' : _this$props2$prefixCl,\n          className = _this$props2.className,\n          _this$props2$operatio = _this$props2.operations,\n          operations = _this$props2$operatio === undefined ? [] : _this$props2$operatio,\n          showSearch = _this$props2.showSearch,\n          notFoundContent = _this$props2.notFoundContent,\n          searchPlaceholder = _this$props2.searchPlaceholder,\n          body = _this$props2.body,\n          footer = _this$props2.footer,\n          listStyle = _this$props2.listStyle,\n          filterOption = _this$props2.filterOption,\n          render = _this$props2.render,\n          lazy = _this$props2.lazy;\n      var _this$state3 = _this.state,\n          leftFilter = _this$state3.leftFilter,\n          rightFilter = _this$state3.rightFilter,\n          sourceSelectedKeys = _this$state3.sourceSelectedKeys,\n          targetSelectedKeys = _this$state3.targetSelectedKeys;\n\n      var _this$splitDataSource = _this.splitDataSource(_this.props),\n          leftDataSource = _this$splitDataSource.leftDataSource,\n          rightDataSource = _this$splitDataSource.rightDataSource;\n\n      var leftActive = targetSelectedKeys.length > 0;\n      var rightActive = sourceSelectedKeys.length > 0;\n      var cls = classNames(className, prefixCls);\n\n      var titles = _this.getTitles(locale);\n\n      return React.createElement('div', {\n        className: cls\n      }, React.createElement(List, {\n        prefixCls: prefixCls + '-list',\n        titleText: titles[0],\n        dataSource: leftDataSource,\n        filter: leftFilter,\n        filterOption: filterOption,\n        style: listStyle,\n        checkedKeys: sourceSelectedKeys,\n        handleFilter: _this.handleLeftFilter,\n        handleClear: _this.handleLeftClear,\n        handleSelect: _this.handleLeftSelect,\n        handleSelectAll: _this.handleLeftSelectAll,\n        render: render,\n        showSearch: showSearch,\n        searchPlaceholder: searchPlaceholder || locale.searchPlaceholder,\n        notFoundContent: notFoundContent || locale.notFoundContent,\n        itemUnit: locale.itemUnit,\n        itemsUnit: locale.itemsUnit,\n        body: body,\n        footer: footer,\n        lazy: lazy,\n        onScroll: _this.handleLeftScroll\n      }), React.createElement(Operation, {\n        className: prefixCls + '-operation',\n        rightActive: rightActive,\n        rightArrowText: operations[0],\n        moveToRight: _this.moveToRight,\n        leftActive: leftActive,\n        leftArrowText: operations[1],\n        moveToLeft: _this.moveToLeft\n      }), React.createElement(List, {\n        prefixCls: prefixCls + '-list',\n        titleText: titles[1],\n        dataSource: rightDataSource,\n        filter: rightFilter,\n        filterOption: filterOption,\n        style: listStyle,\n        checkedKeys: targetSelectedKeys,\n        handleFilter: _this.handleRightFilter,\n        handleClear: _this.handleRightClear,\n        handleSelect: _this.handleRightSelect,\n        handleSelectAll: _this.handleRightSelectAll,\n        render: render,\n        showSearch: showSearch,\n        searchPlaceholder: searchPlaceholder || locale.searchPlaceholder,\n        notFoundContent: notFoundContent || locale.notFoundContent,\n        itemUnit: locale.itemUnit,\n        itemsUnit: locale.itemsUnit,\n        body: body,\n        footer: footer,\n        lazy: lazy,\n        onScroll: _this.handleRightScroll\n      }));\n    };\n\n    var _props$selectedKeys = props.selectedKeys,\n        selectedKeys = _props$selectedKeys === undefined ? [] : _props$selectedKeys,\n        _props$targetKeys = props.targetKeys,\n        targetKeys = _props$targetKeys === undefined ? [] : _props$targetKeys;\n    _this.state = {\n      leftFilter: '',\n      rightFilter: '',\n      sourceSelectedKeys: selectedKeys.filter(function (key) {\n        return targetKeys.indexOf(key) === -1;\n      }),\n      targetSelectedKeys: selectedKeys.filter(function (key) {\n        return targetKeys.indexOf(key) > -1;\n      })\n    };\n    return _this;\n  }\n\n  _createClass(Transfer, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var _state = this.state,\n          sourceSelectedKeys = _state.sourceSelectedKeys,\n          targetSelectedKeys = _state.targetSelectedKeys;\n\n      if (nextProps.targetKeys !== this.props.targetKeys || nextProps.dataSource !== this.props.dataSource) {\n        // clear cached splited dataSource\n        this.splitedDataSource = null;\n\n        if (!nextProps.selectedKeys) {\n          // clear key nolonger existed\n          // clear checkedKeys according to targetKeys\n          var dataSource = nextProps.dataSource,\n              _nextProps$targetKeys = nextProps.targetKeys,\n              targetKeys = _nextProps$targetKeys === undefined ? [] : _nextProps$targetKeys;\n          var newSourceSelectedKeys = [];\n          var newTargetSelectedKeys = [];\n          dataSource.forEach(function (_ref) {\n            var key = _ref.key;\n\n            if (sourceSelectedKeys.includes(key) && !targetKeys.includes(key)) {\n              newSourceSelectedKeys.push(key);\n            }\n\n            if (targetSelectedKeys.includes(key) && targetKeys.includes(key)) {\n              newTargetSelectedKeys.push(key);\n            }\n          });\n          this.setState({\n            sourceSelectedKeys: newSourceSelectedKeys,\n            targetSelectedKeys: newTargetSelectedKeys\n          });\n        }\n      }\n\n      if (nextProps.selectedKeys) {\n        var _targetKeys = nextProps.targetKeys || [];\n\n        this.setState({\n          sourceSelectedKeys: nextProps.selectedKeys.filter(function (key) {\n            return !_targetKeys.includes(key);\n          }),\n          targetSelectedKeys: nextProps.selectedKeys.filter(function (key) {\n            return _targetKeys.includes(key);\n          })\n        });\n      }\n    }\n  }, {\n    key: 'splitDataSource',\n    value: function splitDataSource(props) {\n      if (this.splitedDataSource) {\n        return this.splitedDataSource;\n      }\n\n      var dataSource = props.dataSource,\n          rowKey = props.rowKey,\n          _props$targetKeys2 = props.targetKeys,\n          targetKeys = _props$targetKeys2 === undefined ? [] : _props$targetKeys2;\n      var leftDataSource = [];\n      var rightDataSource = new Array(targetKeys.length);\n      dataSource.forEach(function (record) {\n        if (rowKey) {\n          record.key = rowKey(record);\n        } // rightDataSource should be ordered by targetKeys\n        // leftDataSource should be ordered by dataSource\n\n\n        var indexOfKey = targetKeys.indexOf(record.key);\n\n        if (indexOfKey !== -1) {\n          rightDataSource[indexOfKey] = record;\n        } else {\n          leftDataSource.push(record);\n        }\n      });\n      this.splitedDataSource = {\n        leftDataSource: leftDataSource,\n        rightDataSource: rightDataSource\n      };\n      return this.splitedDataSource;\n    }\n  }, {\n    key: 'handleSelectChange',\n    value: function handleSelectChange(direction, holder) {\n      var _state2 = this.state,\n          sourceSelectedKeys = _state2.sourceSelectedKeys,\n          targetSelectedKeys = _state2.targetSelectedKeys;\n      var onSelectChange = this.props.onSelectChange;\n\n      if (!onSelectChange) {\n        return;\n      }\n\n      if (direction === 'left') {\n        onSelectChange(holder, targetSelectedKeys);\n      } else {\n        onSelectChange(sourceSelectedKeys, holder);\n      }\n    }\n  }, {\n    key: 'getTitles',\n    value: function getTitles(transferLocale) {\n      var props = this.props;\n\n      if (props.titles) {\n        return props.titles;\n      }\n\n      return transferLocale.titles;\n    }\n  }, {\n    key: 'getSelectedKeysName',\n    value: function getSelectedKeysName(direction) {\n      return direction === 'left' ? 'sourceSelectedKeys' : 'targetSelectedKeys';\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return React.createElement(LocaleReceiver, {\n        componentName: 'Transfer',\n        defaultLocale: defaultLocale.Transfer\n      }, this.renderTransfer);\n    }\n  }]);\n\n  return Transfer;\n}(React.Component); // For high-level customized Transfer @dqaria\n\n\nexport default Transfer;\nTransfer.List = List;\nTransfer.Operation = Operation;\nTransfer.Search = Search;\nTransfer.defaultProps = {\n  dataSource: [],\n  render: noop,\n  showSearch: false\n};\nTransfer.propTypes = {\n  prefixCls: PropTypes.string,\n  dataSource: PropTypes.array,\n  render: PropTypes.func,\n  targetKeys: PropTypes.array,\n  onChange: PropTypes.func,\n  height: PropTypes.number,\n  listStyle: PropTypes.object,\n  className: PropTypes.string,\n  titles: PropTypes.array,\n  operations: PropTypes.array,\n  showSearch: PropTypes.bool,\n  filterOption: PropTypes.func,\n  searchPlaceholder: PropTypes.string,\n  notFoundContent: PropTypes.node,\n  body: PropTypes.func,\n  footer: PropTypes.func,\n  rowKey: PropTypes.func,\n  lazy: PropTypes.oneOfType([PropTypes.object, PropTypes.bool])\n};","map":{"version":3,"sources":["/Users/administrator/Desktop/DrChain/drchain_frontend/drchain/node_modules/antd/es/transfer/index.js"],"names":["_toConsumableArray","_defineProperty","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","PropTypes","classNames","List","Operation","Search","LocaleReceiver","defaultLocale","noop","Transfer","_React$Component","props","_this","__proto__","Object","getPrototypeOf","call","moveTo","direction","_this$props","_this$props$targetKey","targetKeys","undefined","_this$props$dataSourc","dataSource","onChange","_this$state","state","sourceSelectedKeys","targetSelectedKeys","moveKeys","newMoveKeys","filter","key","some","data","disabled","newTargetKeys","concat","targetKey","indexOf","oppositeDirection","setState","getSelectedKeysName","handleSelectChange","moveToLeft","moveToRight","handleSelectAll","filteredDataSource","checkAll","originalSelectedKeys","currentKeys","map","item","newKeys1","newKeys2","forEach","push","holder","selectedKeys","handleLeftSelectAll","handleRightSelectAll","handleFilter","e","target","value","onSearchChange","handleLeftFilter","handleRightFilter","handleClear","handleLeftClear","handleRightClear","handleSelect","selectedItem","checked","_this$state2","index","splice","handleLeftSelect","handleRightSelect","handleScroll","onScroll","handleLeftScroll","handleRightScroll","renderTransfer","locale","_this$props2","_this$props2$prefixCl","prefixCls","className","_this$props2$operatio","operations","showSearch","notFoundContent","searchPlaceholder","body","footer","listStyle","filterOption","render","lazy","_this$state3","leftFilter","rightFilter","_this$splitDataSource","splitDataSource","leftDataSource","rightDataSource","leftActive","length","rightActive","cls","titles","getTitles","createElement","titleText","style","checkedKeys","itemUnit","itemsUnit","rightArrowText","leftArrowText","_props$selectedKeys","_props$targetKeys","componentWillReceiveProps","nextProps","_state","splitedDataSource","_nextProps$targetKeys","newSourceSelectedKeys","newTargetSelectedKeys","_ref","includes","_targetKeys","rowKey","_props$targetKeys2","Array","record","indexOfKey","_state2","onSelectChange","transferLocale","componentName","Component","defaultProps","propTypes","string","array","func","height","number","object","bool","node","oneOfType"],"mappings":"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","sourcesContent":["import _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport List from './list';\nimport Operation from './operation';\nimport Search from './search';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale-provider/default';\nfunction noop() {}\n\nvar Transfer = function (_React$Component) {\n    _inherits(Transfer, _React$Component);\n\n    function Transfer(props) {\n        _classCallCheck(this, Transfer);\n\n        var _this = _possibleConstructorReturn(this, (Transfer.__proto__ || Object.getPrototypeOf(Transfer)).call(this, props));\n\n        _this.moveTo = function (direction) {\n            var _this$props = _this.props,\n                _this$props$targetKey = _this$props.targetKeys,\n                targetKeys = _this$props$targetKey === undefined ? [] : _this$props$targetKey,\n                _this$props$dataSourc = _this$props.dataSource,\n                dataSource = _this$props$dataSourc === undefined ? [] : _this$props$dataSourc,\n                onChange = _this$props.onChange;\n            var _this$state = _this.state,\n                sourceSelectedKeys = _this$state.sourceSelectedKeys,\n                targetSelectedKeys = _this$state.targetSelectedKeys;\n\n            var moveKeys = direction === 'right' ? sourceSelectedKeys : targetSelectedKeys;\n            // filter the disabled options\n            var newMoveKeys = moveKeys.filter(function (key) {\n                return !dataSource.some(function (data) {\n                    return !!(key === data.key && data.disabled);\n                });\n            });\n            // move items to target box\n            var newTargetKeys = direction === 'right' ? newMoveKeys.concat(targetKeys) : targetKeys.filter(function (targetKey) {\n                return newMoveKeys.indexOf(targetKey) === -1;\n            });\n            // empty checked keys\n            var oppositeDirection = direction === 'right' ? 'left' : 'right';\n            _this.setState(_defineProperty({}, _this.getSelectedKeysName(oppositeDirection), []));\n            _this.handleSelectChange(oppositeDirection, []);\n            if (onChange) {\n                onChange(newTargetKeys, direction, newMoveKeys);\n            }\n        };\n        _this.moveToLeft = function () {\n            return _this.moveTo('left');\n        };\n        _this.moveToRight = function () {\n            return _this.moveTo('right');\n        };\n        _this.handleSelectAll = function (direction, filteredDataSource, checkAll) {\n            var originalSelectedKeys = _this.state[_this.getSelectedKeysName(direction)] || [];\n            var currentKeys = filteredDataSource.map(function (item) {\n                return item.key;\n            });\n            // Only operate current keys from original selected keys\n            var newKeys1 = originalSelectedKeys.filter(function (key) {\n                return currentKeys.indexOf(key) === -1;\n            });\n            var newKeys2 = [].concat(_toConsumableArray(originalSelectedKeys));\n            currentKeys.forEach(function (key) {\n                if (newKeys2.indexOf(key) === -1) {\n                    newKeys2.push(key);\n                }\n            });\n            var holder = checkAll ? newKeys1 : newKeys2;\n            _this.handleSelectChange(direction, holder);\n            if (!_this.props.selectedKeys) {\n                _this.setState(_defineProperty({}, _this.getSelectedKeysName(direction), holder));\n            }\n        };\n        _this.handleLeftSelectAll = function (filteredDataSource, checkAll) {\n            return _this.handleSelectAll('left', filteredDataSource, checkAll);\n        };\n        _this.handleRightSelectAll = function (filteredDataSource, checkAll) {\n            return _this.handleSelectAll('right', filteredDataSource, checkAll);\n        };\n        _this.handleFilter = function (direction, e) {\n            _this.setState(_defineProperty({}, direction + 'Filter', e.target.value));\n            if (_this.props.onSearchChange) {\n                _this.props.onSearchChange(direction, e);\n            }\n        };\n        _this.handleLeftFilter = function (e) {\n            return _this.handleFilter('left', e);\n        };\n        _this.handleRightFilter = function (e) {\n            return _this.handleFilter('right', e);\n        };\n        _this.handleClear = function (direction) {\n            _this.setState(_defineProperty({}, direction + 'Filter', ''));\n        };\n        _this.handleLeftClear = function () {\n            return _this.handleClear('left');\n        };\n        _this.handleRightClear = function () {\n            return _this.handleClear('right');\n        };\n        _this.handleSelect = function (direction, selectedItem, checked) {\n            var _this$state2 = _this.state,\n                sourceSelectedKeys = _this$state2.sourceSelectedKeys,\n                targetSelectedKeys = _this$state2.targetSelectedKeys;\n\n            var holder = direction === 'left' ? [].concat(_toConsumableArray(sourceSelectedKeys)) : [].concat(_toConsumableArray(targetSelectedKeys));\n            var index = holder.indexOf(selectedItem.key);\n            if (index > -1) {\n                holder.splice(index, 1);\n            }\n            if (checked) {\n                holder.push(selectedItem.key);\n            }\n            _this.handleSelectChange(direction, holder);\n            if (!_this.props.selectedKeys) {\n                _this.setState(_defineProperty({}, _this.getSelectedKeysName(direction), holder));\n            }\n        };\n        _this.handleLeftSelect = function (selectedItem, checked) {\n            return _this.handleSelect('left', selectedItem, checked);\n        };\n        _this.handleRightSelect = function (selectedItem, checked) {\n            return _this.handleSelect('right', selectedItem, checked);\n        };\n        _this.handleScroll = function (direction, e) {\n            var onScroll = _this.props.onScroll;\n\n            if (onScroll) {\n                onScroll(direction, e);\n            }\n        };\n        _this.handleLeftScroll = function (e) {\n            return _this.handleScroll('left', e);\n        };\n        _this.handleRightScroll = function (e) {\n            return _this.handleScroll('right', e);\n        };\n        _this.renderTransfer = function (locale) {\n            var _this$props2 = _this.props,\n                _this$props2$prefixCl = _this$props2.prefixCls,\n                prefixCls = _this$props2$prefixCl === undefined ? 'ant-transfer' : _this$props2$prefixCl,\n                className = _this$props2.className,\n                _this$props2$operatio = _this$props2.operations,\n                operations = _this$props2$operatio === undefined ? [] : _this$props2$operatio,\n                showSearch = _this$props2.showSearch,\n                notFoundContent = _this$props2.notFoundContent,\n                searchPlaceholder = _this$props2.searchPlaceholder,\n                body = _this$props2.body,\n                footer = _this$props2.footer,\n                listStyle = _this$props2.listStyle,\n                filterOption = _this$props2.filterOption,\n                render = _this$props2.render,\n                lazy = _this$props2.lazy;\n            var _this$state3 = _this.state,\n                leftFilter = _this$state3.leftFilter,\n                rightFilter = _this$state3.rightFilter,\n                sourceSelectedKeys = _this$state3.sourceSelectedKeys,\n                targetSelectedKeys = _this$state3.targetSelectedKeys;\n\n            var _this$splitDataSource = _this.splitDataSource(_this.props),\n                leftDataSource = _this$splitDataSource.leftDataSource,\n                rightDataSource = _this$splitDataSource.rightDataSource;\n\n            var leftActive = targetSelectedKeys.length > 0;\n            var rightActive = sourceSelectedKeys.length > 0;\n            var cls = classNames(className, prefixCls);\n            var titles = _this.getTitles(locale);\n            return React.createElement(\n                'div',\n                { className: cls },\n                React.createElement(List, { prefixCls: prefixCls + '-list', titleText: titles[0], dataSource: leftDataSource, filter: leftFilter, filterOption: filterOption, style: listStyle, checkedKeys: sourceSelectedKeys, handleFilter: _this.handleLeftFilter, handleClear: _this.handleLeftClear, handleSelect: _this.handleLeftSelect, handleSelectAll: _this.handleLeftSelectAll, render: render, showSearch: showSearch, searchPlaceholder: searchPlaceholder || locale.searchPlaceholder, notFoundContent: notFoundContent || locale.notFoundContent, itemUnit: locale.itemUnit, itemsUnit: locale.itemsUnit, body: body, footer: footer, lazy: lazy, onScroll: _this.handleLeftScroll }),\n                React.createElement(Operation, { className: prefixCls + '-operation', rightActive: rightActive, rightArrowText: operations[0], moveToRight: _this.moveToRight, leftActive: leftActive, leftArrowText: operations[1], moveToLeft: _this.moveToLeft }),\n                React.createElement(List, { prefixCls: prefixCls + '-list', titleText: titles[1], dataSource: rightDataSource, filter: rightFilter, filterOption: filterOption, style: listStyle, checkedKeys: targetSelectedKeys, handleFilter: _this.handleRightFilter, handleClear: _this.handleRightClear, handleSelect: _this.handleRightSelect, handleSelectAll: _this.handleRightSelectAll, render: render, showSearch: showSearch, searchPlaceholder: searchPlaceholder || locale.searchPlaceholder, notFoundContent: notFoundContent || locale.notFoundContent, itemUnit: locale.itemUnit, itemsUnit: locale.itemsUnit, body: body, footer: footer, lazy: lazy, onScroll: _this.handleRightScroll })\n            );\n        };\n        var _props$selectedKeys = props.selectedKeys,\n            selectedKeys = _props$selectedKeys === undefined ? [] : _props$selectedKeys,\n            _props$targetKeys = props.targetKeys,\n            targetKeys = _props$targetKeys === undefined ? [] : _props$targetKeys;\n\n        _this.state = {\n            leftFilter: '',\n            rightFilter: '',\n            sourceSelectedKeys: selectedKeys.filter(function (key) {\n                return targetKeys.indexOf(key) === -1;\n            }),\n            targetSelectedKeys: selectedKeys.filter(function (key) {\n                return targetKeys.indexOf(key) > -1;\n            })\n        };\n        return _this;\n    }\n\n    _createClass(Transfer, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            var _state = this.state,\n                sourceSelectedKeys = _state.sourceSelectedKeys,\n                targetSelectedKeys = _state.targetSelectedKeys;\n\n            if (nextProps.targetKeys !== this.props.targetKeys || nextProps.dataSource !== this.props.dataSource) {\n                // clear cached splited dataSource\n                this.splitedDataSource = null;\n                if (!nextProps.selectedKeys) {\n                    // clear key nolonger existed\n                    // clear checkedKeys according to targetKeys\n                    var dataSource = nextProps.dataSource,\n                        _nextProps$targetKeys = nextProps.targetKeys,\n                        targetKeys = _nextProps$targetKeys === undefined ? [] : _nextProps$targetKeys;\n\n                    var newSourceSelectedKeys = [];\n                    var newTargetSelectedKeys = [];\n                    dataSource.forEach(function (_ref) {\n                        var key = _ref.key;\n\n                        if (sourceSelectedKeys.includes(key) && !targetKeys.includes(key)) {\n                            newSourceSelectedKeys.push(key);\n                        }\n                        if (targetSelectedKeys.includes(key) && targetKeys.includes(key)) {\n                            newTargetSelectedKeys.push(key);\n                        }\n                    });\n                    this.setState({\n                        sourceSelectedKeys: newSourceSelectedKeys,\n                        targetSelectedKeys: newTargetSelectedKeys\n                    });\n                }\n            }\n            if (nextProps.selectedKeys) {\n                var _targetKeys = nextProps.targetKeys || [];\n                this.setState({\n                    sourceSelectedKeys: nextProps.selectedKeys.filter(function (key) {\n                        return !_targetKeys.includes(key);\n                    }),\n                    targetSelectedKeys: nextProps.selectedKeys.filter(function (key) {\n                        return _targetKeys.includes(key);\n                    })\n                });\n            }\n        }\n    }, {\n        key: 'splitDataSource',\n        value: function splitDataSource(props) {\n            if (this.splitedDataSource) {\n                return this.splitedDataSource;\n            }\n            var dataSource = props.dataSource,\n                rowKey = props.rowKey,\n                _props$targetKeys2 = props.targetKeys,\n                targetKeys = _props$targetKeys2 === undefined ? [] : _props$targetKeys2;\n\n            var leftDataSource = [];\n            var rightDataSource = new Array(targetKeys.length);\n            dataSource.forEach(function (record) {\n                if (rowKey) {\n                    record.key = rowKey(record);\n                }\n                // rightDataSource should be ordered by targetKeys\n                // leftDataSource should be ordered by dataSource\n                var indexOfKey = targetKeys.indexOf(record.key);\n                if (indexOfKey !== -1) {\n                    rightDataSource[indexOfKey] = record;\n                } else {\n                    leftDataSource.push(record);\n                }\n            });\n            this.splitedDataSource = {\n                leftDataSource: leftDataSource,\n                rightDataSource: rightDataSource\n            };\n            return this.splitedDataSource;\n        }\n    }, {\n        key: 'handleSelectChange',\n        value: function handleSelectChange(direction, holder) {\n            var _state2 = this.state,\n                sourceSelectedKeys = _state2.sourceSelectedKeys,\n                targetSelectedKeys = _state2.targetSelectedKeys;\n\n            var onSelectChange = this.props.onSelectChange;\n            if (!onSelectChange) {\n                return;\n            }\n            if (direction === 'left') {\n                onSelectChange(holder, targetSelectedKeys);\n            } else {\n                onSelectChange(sourceSelectedKeys, holder);\n            }\n        }\n    }, {\n        key: 'getTitles',\n        value: function getTitles(transferLocale) {\n            var props = this.props;\n\n            if (props.titles) {\n                return props.titles;\n            }\n            return transferLocale.titles;\n        }\n    }, {\n        key: 'getSelectedKeysName',\n        value: function getSelectedKeysName(direction) {\n            return direction === 'left' ? 'sourceSelectedKeys' : 'targetSelectedKeys';\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return React.createElement(\n                LocaleReceiver,\n                { componentName: 'Transfer', defaultLocale: defaultLocale.Transfer },\n                this.renderTransfer\n            );\n        }\n    }]);\n\n    return Transfer;\n}(React.Component);\n// For high-level customized Transfer @dqaria\n\n\nexport default Transfer;\nTransfer.List = List;\nTransfer.Operation = Operation;\nTransfer.Search = Search;\nTransfer.defaultProps = {\n    dataSource: [],\n    render: noop,\n    showSearch: false\n};\nTransfer.propTypes = {\n    prefixCls: PropTypes.string,\n    dataSource: PropTypes.array,\n    render: PropTypes.func,\n    targetKeys: PropTypes.array,\n    onChange: PropTypes.func,\n    height: PropTypes.number,\n    listStyle: PropTypes.object,\n    className: PropTypes.string,\n    titles: PropTypes.array,\n    operations: PropTypes.array,\n    showSearch: PropTypes.bool,\n    filterOption: PropTypes.func,\n    searchPlaceholder: PropTypes.string,\n    notFoundContent: PropTypes.node,\n    body: PropTypes.func,\n    footer: PropTypes.func,\n    rowKey: PropTypes.func,\n    lazy: PropTypes.oneOfType([PropTypes.object, PropTypes.bool])\n};"]},"metadata":{},"sourceType":"module"}