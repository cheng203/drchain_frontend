{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport * as React from 'react';\nimport Dialog from 'rc-dialog';\nimport PropTypes from 'prop-types';\nimport addEventListener from 'rc-util/es/Dom/addEventListener';\nimport Button from '../button';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport { getConfirmLocale } from './locale';\nvar mousePosition = void 0;\nvar mousePositionEventBinded = void 0;\n\nvar Modal = function (_React$Component) {\n  _inherits(Modal, _React$Component);\n\n  function Modal() {\n    _classCallCheck(this, Modal);\n\n    var _this = _possibleConstructorReturn(this, (Modal.__proto__ || Object.getPrototypeOf(Modal)).apply(this, arguments));\n\n    _this.handleCancel = function (e) {\n      var onCancel = _this.props.onCancel;\n\n      if (onCancel) {\n        onCancel(e);\n      }\n    };\n\n    _this.handleOk = function (e) {\n      var onOk = _this.props.onOk;\n\n      if (onOk) {\n        onOk(e);\n      }\n    };\n\n    _this.renderFooter = function (locale) {\n      var _this$props = _this.props,\n          okText = _this$props.okText,\n          okType = _this$props.okType,\n          cancelText = _this$props.cancelText,\n          confirmLoading = _this$props.confirmLoading;\n      return React.createElement('div', null, React.createElement(Button, {\n        onClick: _this.handleCancel\n      }, cancelText || locale.cancelText), React.createElement(Button, {\n        type: okType,\n        loading: confirmLoading,\n        onClick: _this.handleOk\n      }, okText || locale.okText));\n    };\n\n    return _this;\n  }\n\n  _createClass(Modal, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (mousePositionEventBinded) {\n        return;\n      } // 只有点击事件支持从鼠标位置动画展开\n\n\n      addEventListener(document.documentElement, 'click', function (e) {\n        mousePosition = {\n          x: e.pageX,\n          y: e.pageY\n        }; // 100ms 内发生过点击事件，则从点击位置动画展示\n        // 否则直接 zoom 展示\n        // 这样可以兼容非点击方式展开\n\n        setTimeout(function () {\n          return mousePosition = null;\n        }, 100);\n      });\n      mousePositionEventBinded = true;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          footer = _props.footer,\n          visible = _props.visible;\n      var defaultFooter = React.createElement(LocaleReceiver, {\n        componentName: 'Modal',\n        defaultLocale: getConfirmLocale()\n      }, this.renderFooter);\n      return React.createElement(Dialog, _extends({}, this.props, {\n        footer: footer === undefined ? defaultFooter : footer,\n        visible: visible,\n        mousePosition: mousePosition,\n        onClose: this.handleCancel\n      }));\n    }\n  }]);\n\n  return Modal;\n}(React.Component);\n\nexport default Modal;\nModal.defaultProps = {\n  prefixCls: 'ant-modal',\n  width: 520,\n  transitionName: 'zoom',\n  maskTransitionName: 'fade',\n  confirmLoading: false,\n  visible: false,\n  okType: 'primary'\n};\nModal.propTypes = {\n  prefixCls: PropTypes.string,\n  onOk: PropTypes.func,\n  onCancel: PropTypes.func,\n  okText: PropTypes.node,\n  cancelText: PropTypes.node,\n  width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  confirmLoading: PropTypes.bool,\n  visible: PropTypes.bool,\n  align: PropTypes.object,\n  footer: PropTypes.node,\n  title: PropTypes.node,\n  closable: PropTypes.bool\n};","map":{"version":3,"sources":["/Users/administrator/Desktop/DrChain/drchain_frontend/drchain/node_modules/antd/es/modal/Modal.js"],"names":["_extends","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","Dialog","PropTypes","addEventListener","Button","LocaleReceiver","getConfirmLocale","mousePosition","mousePositionEventBinded","Modal","_React$Component","_this","__proto__","Object","getPrototypeOf","apply","arguments","handleCancel","e","onCancel","props","handleOk","onOk","renderFooter","locale","_this$props","okText","okType","cancelText","confirmLoading","createElement","onClick","type","loading","key","value","componentDidMount","document","documentElement","x","pageX","y","pageY","setTimeout","render","_props","footer","visible","defaultFooter","componentName","defaultLocale","undefined","onClose","Component","defaultProps","prefixCls","width","transitionName","maskTransitionName","propTypes","string","func","node","oneOfType","number","bool","align","object","title","closable"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport * as React from 'react';\nimport Dialog from 'rc-dialog';\nimport PropTypes from 'prop-types';\nimport addEventListener from 'rc-util/es/Dom/addEventListener';\nimport Button from '../button';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport { getConfirmLocale } from './locale';\nvar mousePosition = void 0;\nvar mousePositionEventBinded = void 0;\n\nvar Modal = function (_React$Component) {\n    _inherits(Modal, _React$Component);\n\n    function Modal() {\n        _classCallCheck(this, Modal);\n\n        var _this = _possibleConstructorReturn(this, (Modal.__proto__ || Object.getPrototypeOf(Modal)).apply(this, arguments));\n\n        _this.handleCancel = function (e) {\n            var onCancel = _this.props.onCancel;\n            if (onCancel) {\n                onCancel(e);\n            }\n        };\n        _this.handleOk = function (e) {\n            var onOk = _this.props.onOk;\n            if (onOk) {\n                onOk(e);\n            }\n        };\n        _this.renderFooter = function (locale) {\n            var _this$props = _this.props,\n                okText = _this$props.okText,\n                okType = _this$props.okType,\n                cancelText = _this$props.cancelText,\n                confirmLoading = _this$props.confirmLoading;\n\n            return React.createElement(\n                'div',\n                null,\n                React.createElement(\n                    Button,\n                    { onClick: _this.handleCancel },\n                    cancelText || locale.cancelText\n                ),\n                React.createElement(\n                    Button,\n                    { type: okType, loading: confirmLoading, onClick: _this.handleOk },\n                    okText || locale.okText\n                )\n            );\n        };\n        return _this;\n    }\n\n    _createClass(Modal, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            if (mousePositionEventBinded) {\n                return;\n            }\n            // 只有点击事件支持从鼠标位置动画展开\n            addEventListener(document.documentElement, 'click', function (e) {\n                mousePosition = {\n                    x: e.pageX,\n                    y: e.pageY\n                };\n                // 100ms 内发生过点击事件，则从点击位置动画展示\n                // 否则直接 zoom 展示\n                // 这样可以兼容非点击方式展开\n                setTimeout(function () {\n                    return mousePosition = null;\n                }, 100);\n            });\n            mousePositionEventBinded = true;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                footer = _props.footer,\n                visible = _props.visible;\n\n            var defaultFooter = React.createElement(\n                LocaleReceiver,\n                { componentName: 'Modal', defaultLocale: getConfirmLocale() },\n                this.renderFooter\n            );\n            return React.createElement(Dialog, _extends({}, this.props, { footer: footer === undefined ? defaultFooter : footer, visible: visible, mousePosition: mousePosition, onClose: this.handleCancel }));\n        }\n    }]);\n\n    return Modal;\n}(React.Component);\n\nexport default Modal;\n\nModal.defaultProps = {\n    prefixCls: 'ant-modal',\n    width: 520,\n    transitionName: 'zoom',\n    maskTransitionName: 'fade',\n    confirmLoading: false,\n    visible: false,\n    okType: 'primary'\n};\nModal.propTypes = {\n    prefixCls: PropTypes.string,\n    onOk: PropTypes.func,\n    onCancel: PropTypes.func,\n    okText: PropTypes.node,\n    cancelText: PropTypes.node,\n    width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    confirmLoading: PropTypes.bool,\n    visible: PropTypes.bool,\n    align: PropTypes.object,\n    footer: PropTypes.node,\n    title: PropTypes.node,\n    closable: PropTypes.bool\n};"]},"metadata":{},"sourceType":"module"}