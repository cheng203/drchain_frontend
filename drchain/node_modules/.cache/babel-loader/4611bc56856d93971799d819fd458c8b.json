{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport Icon from '../icon';\nimport classNames from 'classnames';\n\nvar Avatar = function (_React$Component) {\n  _inherits(Avatar, _React$Component);\n\n  function Avatar(props) {\n    _classCallCheck(this, Avatar);\n\n    var _this = _possibleConstructorReturn(this, (Avatar.__proto__ || Object.getPrototypeOf(Avatar)).call(this, props));\n\n    _this.setScale = function () {\n      var childrenNode = _this.avatarChildren;\n\n      if (childrenNode) {\n        var childrenWidth = childrenNode.offsetWidth;\n        var avatarNode = ReactDOM.findDOMNode(_this);\n        var avatarWidth = avatarNode.getBoundingClientRect().width; // add 4px gap for each side to get better performance\n\n        if (avatarWidth - 8 < childrenWidth) {\n          _this.setState({\n            scale: (avatarWidth - 8) / childrenWidth\n          });\n        } else {\n          _this.setState({\n            scale: 1\n          });\n        }\n      }\n    };\n\n    _this.handleImgLoadError = function () {\n      return _this.setState({\n        isImgExist: false\n      });\n    };\n\n    _this.state = {\n      scale: 1,\n      isImgExist: true\n    };\n    return _this;\n  }\n\n  _createClass(Avatar, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.setScale();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (prevProps.children !== this.props.children || prevState.scale !== this.state.scale && this.state.scale === 1 || prevState.isImgExist !== this.state.isImgExist) {\n        this.setScale();\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classNames,\n          _classNames2,\n          _this2 = this;\n\n      var _a = this.props,\n          prefixCls = _a.prefixCls,\n          shape = _a.shape,\n          size = _a.size,\n          src = _a.src,\n          icon = _a.icon,\n          className = _a.className,\n          others = __rest(_a, [\"prefixCls\", \"shape\", \"size\", \"src\", \"icon\", \"className\"]);\n\n      var sizeCls = classNames((_classNames = {}, _defineProperty(_classNames, prefixCls + '-lg', size === 'large'), _defineProperty(_classNames, prefixCls + '-sm', size === 'small'), _classNames));\n      var classString = classNames(prefixCls, className, sizeCls, (_classNames2 = {}, _defineProperty(_classNames2, prefixCls + '-' + shape, shape), _defineProperty(_classNames2, prefixCls + '-image', src && this.state.isImgExist), _defineProperty(_classNames2, prefixCls + '-icon', icon), _classNames2));\n      var children = this.props.children;\n\n      if (src && this.state.isImgExist) {\n        children = React.createElement('img', {\n          src: src,\n          onError: this.handleImgLoadError\n        });\n      } else if (icon) {\n        children = React.createElement(Icon, {\n          type: icon\n        });\n      } else {\n        var childrenNode = this.avatarChildren;\n\n        if (childrenNode || this.state.scale !== 1) {\n          var childrenStyle = {\n            msTransform: 'scale(' + this.state.scale + ')',\n            WebkitTransform: 'scale(' + this.state.scale + ')',\n            transform: 'scale(' + this.state.scale + ')',\n            position: 'absolute',\n            display: 'inline-block',\n            left: 'calc(50% - ' + Math.round(childrenNode.offsetWidth / 2) + 'px)'\n          };\n          children = React.createElement('span', {\n            className: prefixCls + '-string',\n            ref: function ref(span) {\n              return _this2.avatarChildren = span;\n            },\n            style: childrenStyle\n          }, children);\n        } else {\n          children = React.createElement('span', {\n            className: prefixCls + '-string',\n            ref: function ref(span) {\n              return _this2.avatarChildren = span;\n            }\n          }, children);\n        }\n      }\n\n      return React.createElement('span', _extends({}, others, {\n        className: classString\n      }), children);\n    }\n  }]);\n\n  return Avatar;\n}(React.Component);\n\nexport default Avatar;\nAvatar.defaultProps = {\n  prefixCls: 'ant-avatar',\n  shape: 'circle',\n  size: 'default'\n};","map":{"version":3,"sources":["/Users/administrator/Desktop/DrChain/drchain_frontend/drchain/node_modules/antd/es/avatar/index.js"],"names":["_extends","_defineProperty","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","React","ReactDOM","Icon","classNames","Avatar","_React$Component","props","_this","__proto__","getPrototypeOf","setScale","childrenNode","avatarChildren","childrenWidth","offsetWidth","avatarNode","findDOMNode","avatarWidth","getBoundingClientRect","width","setState","scale","handleImgLoadError","isImgExist","state","key","value","componentDidMount","componentDidUpdate","prevProps","prevState","children","render","_classNames","_classNames2","_this2","_a","prefixCls","shape","size","src","icon","className","others","sizeCls","classString","createElement","onError","type","childrenStyle","msTransform","WebkitTransform","transform","position","display","left","Math","round","ref","span","style","Component","defaultProps"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,+BAArB;AACA,OAAOC,eAAP,MAA4B,sCAA5B;AACA,OAAOC,eAAP,MAA4B,sCAA5B;AACA,OAAOC,YAAP,MAAyB,mCAAzB;AACA,OAAOC,0BAAP,MAAuC,iDAAvC;AACA,OAAOC,SAAP,MAAsB,gCAAtB;;AACA,IAAIC,MAAM,GAAG,QAAQ,KAAKA,MAAb,IAAuB,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAChD,MAAIC,CAAC,GAAG,EAAR;;AACA,OAAK,IAAIC,CAAT,IAAcH,CAAd,EAAiB;AACb,QAAII,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCP,CAArC,EAAwCG,CAAxC,KAA8CF,CAAC,CAACO,OAAF,CAAUL,CAAV,IAAe,CAAjE,EAAoED,CAAC,CAACC,CAAD,CAAD,GAAOH,CAAC,CAACG,CAAD,CAAR;AACvE;;AAAA,MAAIH,CAAC,IAAI,IAAL,IAAa,OAAOI,MAAM,CAACK,qBAAd,KAAwC,UAAzD,EAAqE,KAAK,IAAIC,CAAC,GAAG,CAAR,EAAWP,CAAC,GAAGC,MAAM,CAACK,qBAAP,CAA6BT,CAA7B,CAApB,EAAqDU,CAAC,GAAGP,CAAC,CAACQ,MAA3D,EAAmED,CAAC,EAApE,EAAwE;AAC1I,QAAIT,CAAC,CAACO,OAAF,CAAUL,CAAC,CAACO,CAAD,CAAX,IAAkB,CAAtB,EAAyBR,CAAC,CAACC,CAAC,CAACO,CAAD,CAAF,CAAD,GAAUV,CAAC,CAACG,CAAC,CAACO,CAAD,CAAF,CAAX;AAC5B;AAAA,SAAOR,CAAP;AACJ,CAPD;;AAQA,OAAO,KAAKU,KAAZ,MAAuB,OAAvB;AACA,OAAO,KAAKC,QAAZ,MAA0B,WAA1B;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,OAAOC,UAAP,MAAuB,YAAvB;;AAEA,IAAIC,MAAM,GAAG,UAAUC,gBAAV,EAA4B;AACrCnB,EAAAA,SAAS,CAACkB,MAAD,EAASC,gBAAT,CAAT;;AAEA,WAASD,MAAT,CAAgBE,KAAhB,EAAuB;AACnBvB,IAAAA,eAAe,CAAC,IAAD,EAAOqB,MAAP,CAAf;;AAEA,QAAIG,KAAK,GAAGtB,0BAA0B,CAAC,IAAD,EAAO,CAACmB,MAAM,CAACI,SAAP,IAAoBhB,MAAM,CAACiB,cAAP,CAAsBL,MAAtB,CAArB,EAAoDT,IAApD,CAAyD,IAAzD,EAA+DW,KAA/D,CAAP,CAAtC;;AAEAC,IAAAA,KAAK,CAACG,QAAN,GAAiB,YAAY;AACzB,UAAIC,YAAY,GAAGJ,KAAK,CAACK,cAAzB;;AACA,UAAID,YAAJ,EAAkB;AACd,YAAIE,aAAa,GAAGF,YAAY,CAACG,WAAjC;AACA,YAAIC,UAAU,GAAGd,QAAQ,CAACe,WAAT,CAAqBT,KAArB,CAAjB;AACA,YAAIU,WAAW,GAAGF,UAAU,CAACG,qBAAX,GAAmCC,KAArD,CAHc,CAId;;AACA,YAAIF,WAAW,GAAG,CAAd,GAAkBJ,aAAtB,EAAqC;AACjCN,UAAAA,KAAK,CAACa,QAAN,CAAe;AACXC,YAAAA,KAAK,EAAE,CAACJ,WAAW,GAAG,CAAf,IAAoBJ;AADhB,WAAf;AAGH,SAJD,MAIO;AACHN,UAAAA,KAAK,CAACa,QAAN,CAAe;AACXC,YAAAA,KAAK,EAAE;AADI,WAAf;AAGH;AACJ;AACJ,KAjBD;;AAkBAd,IAAAA,KAAK,CAACe,kBAAN,GAA2B,YAAY;AACnC,aAAOf,KAAK,CAACa,QAAN,CAAe;AAAEG,QAAAA,UAAU,EAAE;AAAd,OAAf,CAAP;AACH,KAFD;;AAGAhB,IAAAA,KAAK,CAACiB,KAAN,GAAc;AACVH,MAAAA,KAAK,EAAE,CADG;AAEVE,MAAAA,UAAU,EAAE;AAFF,KAAd;AAIA,WAAOhB,KAAP;AACH;;AAEDvB,EAAAA,YAAY,CAACoB,MAAD,EAAS,CAAC;AAClBqB,IAAAA,GAAG,EAAE,mBADa;AAElBC,IAAAA,KAAK,EAAE,SAASC,iBAAT,GAA6B;AAChC,WAAKjB,QAAL;AACH;AAJiB,GAAD,EAKlB;AACCe,IAAAA,GAAG,EAAE,oBADN;AAECC,IAAAA,KAAK,EAAE,SAASE,kBAAT,CAA4BC,SAA5B,EAAuCC,SAAvC,EAAkD;AACrD,UAAID,SAAS,CAACE,QAAV,KAAuB,KAAKzB,KAAL,CAAWyB,QAAlC,IAA8CD,SAAS,CAACT,KAAV,KAAoB,KAAKG,KAAL,CAAWH,KAA/B,IAAwC,KAAKG,KAAL,CAAWH,KAAX,KAAqB,CAA3G,IAAgHS,SAAS,CAACP,UAAV,KAAyB,KAAKC,KAAL,CAAWD,UAAxJ,EAAoK;AAChK,aAAKb,QAAL;AACH;AACJ;AANF,GALkB,EAYlB;AACCe,IAAAA,GAAG,EAAE,QADN;AAECC,IAAAA,KAAK,EAAE,SAASM,MAAT,GAAkB;AACrB,UAAIC,WAAJ;AAAA,UACIC,YADJ;AAAA,UAEIC,MAAM,GAAG,IAFb;;AAIA,UAAIC,EAAE,GAAG,KAAK9B,KAAd;AAAA,UACI+B,SAAS,GAAGD,EAAE,CAACC,SADnB;AAAA,UAEIC,KAAK,GAAGF,EAAE,CAACE,KAFf;AAAA,UAGIC,IAAI,GAAGH,EAAE,CAACG,IAHd;AAAA,UAIIC,GAAG,GAAGJ,EAAE,CAACI,GAJb;AAAA,UAKIC,IAAI,GAAGL,EAAE,CAACK,IALd;AAAA,UAMIC,SAAS,GAAGN,EAAE,CAACM,SANnB;AAAA,UAOIC,MAAM,GAAGxD,MAAM,CAACiD,EAAD,EAAK,CAAC,WAAD,EAAc,OAAd,EAAuB,MAAvB,EAA+B,KAA/B,EAAsC,MAAtC,EAA8C,WAA9C,CAAL,CAPnB;;AAQA,UAAIQ,OAAO,GAAGzC,UAAU,EAAE8B,WAAW,GAAG,EAAd,EAAkBnD,eAAe,CAACmD,WAAD,EAAcI,SAAS,GAAG,KAA1B,EAAiCE,IAAI,KAAK,OAA1C,CAAjC,EAAqFzD,eAAe,CAACmD,WAAD,EAAcI,SAAS,GAAG,KAA1B,EAAiCE,IAAI,KAAK,OAA1C,CAApG,EAAwJN,WAA1J,EAAxB;AACA,UAAIY,WAAW,GAAG1C,UAAU,CAACkC,SAAD,EAAYK,SAAZ,EAAuBE,OAAvB,GAAiCV,YAAY,GAAG,EAAf,EAAmBpD,eAAe,CAACoD,YAAD,EAAeG,SAAS,GAAG,GAAZ,GAAkBC,KAAjC,EAAwCA,KAAxC,CAAlC,EAAkFxD,eAAe,CAACoD,YAAD,EAAeG,SAAS,GAAG,QAA3B,EAAqCG,GAAG,IAAI,KAAKhB,KAAL,CAAWD,UAAvD,CAAjG,EAAqKzC,eAAe,CAACoD,YAAD,EAAeG,SAAS,GAAG,OAA3B,EAAoCI,IAApC,CAApL,EAA+NP,YAAhQ,EAA5B;AACA,UAAIH,QAAQ,GAAG,KAAKzB,KAAL,CAAWyB,QAA1B;;AACA,UAAIS,GAAG,IAAI,KAAKhB,KAAL,CAAWD,UAAtB,EAAkC;AAC9BQ,QAAAA,QAAQ,GAAG/B,KAAK,CAAC8C,aAAN,CAAoB,KAApB,EAA2B;AAAEN,UAAAA,GAAG,EAAEA,GAAP;AAAYO,UAAAA,OAAO,EAAE,KAAKzB;AAA1B,SAA3B,CAAX;AACH,OAFD,MAEO,IAAImB,IAAJ,EAAU;AACbV,QAAAA,QAAQ,GAAG/B,KAAK,CAAC8C,aAAN,CAAoB5C,IAApB,EAA0B;AAAE8C,UAAAA,IAAI,EAAEP;AAAR,SAA1B,CAAX;AACH,OAFM,MAEA;AACH,YAAI9B,YAAY,GAAG,KAAKC,cAAxB;;AACA,YAAID,YAAY,IAAI,KAAKa,KAAL,CAAWH,KAAX,KAAqB,CAAzC,EAA4C;AACxC,cAAI4B,aAAa,GAAG;AAChBC,YAAAA,WAAW,EAAE,WAAW,KAAK1B,KAAL,CAAWH,KAAtB,GAA8B,GAD3B;AAEhB8B,YAAAA,eAAe,EAAE,WAAW,KAAK3B,KAAL,CAAWH,KAAtB,GAA8B,GAF/B;AAGhB+B,YAAAA,SAAS,EAAE,WAAW,KAAK5B,KAAL,CAAWH,KAAtB,GAA8B,GAHzB;AAIhBgC,YAAAA,QAAQ,EAAE,UAJM;AAKhBC,YAAAA,OAAO,EAAE,cALO;AAMhBC,YAAAA,IAAI,EAAE,gBAAgBC,IAAI,CAACC,KAAL,CAAW9C,YAAY,CAACG,WAAb,GAA2B,CAAtC,CAAhB,GAA2D;AANjD,WAApB;AAQAiB,UAAAA,QAAQ,GAAG/B,KAAK,CAAC8C,aAAN,CACP,MADO,EAEP;AAAEJ,YAAAA,SAAS,EAAEL,SAAS,GAAG,SAAzB;AAAoCqB,YAAAA,GAAG,EAAE,SAASA,GAAT,CAAaC,IAAb,EAAmB;AACpD,qBAAOxB,MAAM,CAACvB,cAAP,GAAwB+C,IAA/B;AACH,aAFL;AAEOC,YAAAA,KAAK,EAAEX;AAFd,WAFO,EAKPlB,QALO,CAAX;AAOH,SAhBD,MAgBO;AACHA,UAAAA,QAAQ,GAAG/B,KAAK,CAAC8C,aAAN,CACP,MADO,EAEP;AAAEJ,YAAAA,SAAS,EAAEL,SAAS,GAAG,SAAzB;AAAoCqB,YAAAA,GAAG,EAAE,SAASA,GAAT,CAAaC,IAAb,EAAmB;AACpD,qBAAOxB,MAAM,CAACvB,cAAP,GAAwB+C,IAA/B;AACH;AAFL,WAFO,EAKP5B,QALO,CAAX;AAOH;AACJ;;AACD,aAAO/B,KAAK,CAAC8C,aAAN,CACH,MADG,EAEHjE,QAAQ,CAAC,EAAD,EAAK8D,MAAL,EAAa;AAAED,QAAAA,SAAS,EAAEG;AAAb,OAAb,CAFL,EAGHd,QAHG,CAAP;AAKH;AAvDF,GAZkB,CAAT,CAAZ;;AAsEA,SAAO3B,MAAP;AACH,CA3GY,CA2GXJ,KAAK,CAAC6D,SA3GK,CAAb;;AA6GA,eAAezD,MAAf;AAEAA,MAAM,CAAC0D,YAAP,GAAsB;AAClBzB,EAAAA,SAAS,EAAE,YADO;AAElBC,EAAAA,KAAK,EAAE,QAFW;AAGlBC,EAAAA,IAAI,EAAE;AAHY,CAAtB","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nvar __rest = this && this.__rest || function (s, e) {\n    var t = {};\n    for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    }if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n    }return t;\n};\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport Icon from '../icon';\nimport classNames from 'classnames';\n\nvar Avatar = function (_React$Component) {\n    _inherits(Avatar, _React$Component);\n\n    function Avatar(props) {\n        _classCallCheck(this, Avatar);\n\n        var _this = _possibleConstructorReturn(this, (Avatar.__proto__ || Object.getPrototypeOf(Avatar)).call(this, props));\n\n        _this.setScale = function () {\n            var childrenNode = _this.avatarChildren;\n            if (childrenNode) {\n                var childrenWidth = childrenNode.offsetWidth;\n                var avatarNode = ReactDOM.findDOMNode(_this);\n                var avatarWidth = avatarNode.getBoundingClientRect().width;\n                // add 4px gap for each side to get better performance\n                if (avatarWidth - 8 < childrenWidth) {\n                    _this.setState({\n                        scale: (avatarWidth - 8) / childrenWidth\n                    });\n                } else {\n                    _this.setState({\n                        scale: 1\n                    });\n                }\n            }\n        };\n        _this.handleImgLoadError = function () {\n            return _this.setState({ isImgExist: false });\n        };\n        _this.state = {\n            scale: 1,\n            isImgExist: true\n        };\n        return _this;\n    }\n\n    _createClass(Avatar, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.setScale();\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            if (prevProps.children !== this.props.children || prevState.scale !== this.state.scale && this.state.scale === 1 || prevState.isImgExist !== this.state.isImgExist) {\n                this.setScale();\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _classNames,\n                _classNames2,\n                _this2 = this;\n\n            var _a = this.props,\n                prefixCls = _a.prefixCls,\n                shape = _a.shape,\n                size = _a.size,\n                src = _a.src,\n                icon = _a.icon,\n                className = _a.className,\n                others = __rest(_a, [\"prefixCls\", \"shape\", \"size\", \"src\", \"icon\", \"className\"]);\n            var sizeCls = classNames((_classNames = {}, _defineProperty(_classNames, prefixCls + '-lg', size === 'large'), _defineProperty(_classNames, prefixCls + '-sm', size === 'small'), _classNames));\n            var classString = classNames(prefixCls, className, sizeCls, (_classNames2 = {}, _defineProperty(_classNames2, prefixCls + '-' + shape, shape), _defineProperty(_classNames2, prefixCls + '-image', src && this.state.isImgExist), _defineProperty(_classNames2, prefixCls + '-icon', icon), _classNames2));\n            var children = this.props.children;\n            if (src && this.state.isImgExist) {\n                children = React.createElement('img', { src: src, onError: this.handleImgLoadError });\n            } else if (icon) {\n                children = React.createElement(Icon, { type: icon });\n            } else {\n                var childrenNode = this.avatarChildren;\n                if (childrenNode || this.state.scale !== 1) {\n                    var childrenStyle = {\n                        msTransform: 'scale(' + this.state.scale + ')',\n                        WebkitTransform: 'scale(' + this.state.scale + ')',\n                        transform: 'scale(' + this.state.scale + ')',\n                        position: 'absolute',\n                        display: 'inline-block',\n                        left: 'calc(50% - ' + Math.round(childrenNode.offsetWidth / 2) + 'px)'\n                    };\n                    children = React.createElement(\n                        'span',\n                        { className: prefixCls + '-string', ref: function ref(span) {\n                                return _this2.avatarChildren = span;\n                            }, style: childrenStyle },\n                        children\n                    );\n                } else {\n                    children = React.createElement(\n                        'span',\n                        { className: prefixCls + '-string', ref: function ref(span) {\n                                return _this2.avatarChildren = span;\n                            } },\n                        children\n                    );\n                }\n            }\n            return React.createElement(\n                'span',\n                _extends({}, others, { className: classString }),\n                children\n            );\n        }\n    }]);\n\n    return Avatar;\n}(React.Component);\n\nexport default Avatar;\n\nAvatar.defaultProps = {\n    prefixCls: 'ant-avatar',\n    shape: 'circle',\n    size: 'default'\n};"]},"metadata":{},"sourceType":"module"}