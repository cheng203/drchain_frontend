{"ast":null,"code":"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport createReactClass from 'create-react-class';\nimport PropTypes from 'prop-types';\nimport createChainedFunction from 'rc-util/es/createChainedFunction';\nimport KeyCode from 'rc-util/es/KeyCode';\nimport placements from './picker/placements';\nimport Trigger from 'rc-trigger';\n\nfunction noop() {}\n\nfunction refFn(field, component) {\n  this[field] = component;\n}\n\nvar Picker = createReactClass({\n  displayName: 'Picker',\n  propTypes: {\n    animation: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n    disabled: PropTypes.bool,\n    transitionName: PropTypes.string,\n    onChange: PropTypes.func,\n    onOpenChange: PropTypes.func,\n    children: PropTypes.func,\n    getCalendarContainer: PropTypes.func,\n    calendar: PropTypes.element,\n    style: PropTypes.object,\n    open: PropTypes.bool,\n    defaultOpen: PropTypes.bool,\n    prefixCls: PropTypes.string,\n    placement: PropTypes.any,\n    value: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n    defaultValue: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n    align: PropTypes.object\n  },\n  getDefaultProps: function getDefaultProps() {\n    return {\n      prefixCls: 'rc-calendar-picker',\n      style: {},\n      align: {},\n      placement: 'bottomLeft',\n      defaultOpen: false,\n      onChange: noop,\n      onOpenChange: noop\n    };\n  },\n  getInitialState: function getInitialState() {\n    var props = this.props;\n    var open = void 0;\n\n    if ('open' in props) {\n      open = props.open;\n    } else {\n      open = props.defaultOpen;\n    }\n\n    var value = props.value || props.defaultValue;\n    this.saveCalendarRef = refFn.bind(this, 'calendarInstance');\n    return {\n      open: open,\n      value: value\n    };\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    var value = nextProps.value,\n        open = nextProps.open;\n\n    if ('value' in nextProps) {\n      this.setState({\n        value: value\n      });\n    }\n\n    if (open !== undefined) {\n      this.setState({\n        open: open\n      });\n    }\n  },\n  componentDidUpdate: function componentDidUpdate(_, prevState) {\n    if (!prevState.open && this.state.open) {\n      // setTimeout is for making sure saveCalendarRef happen before focusCalendar\n      this.focusTimeout = setTimeout(this.focusCalendar, 0, this);\n    }\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    clearTimeout(this.focusTimeout);\n  },\n  onCalendarKeyDown: function onCalendarKeyDown(event) {\n    if (event.keyCode === KeyCode.ESC) {\n      event.stopPropagation();\n      this.close(this.focus);\n    }\n  },\n  onCalendarSelect: function onCalendarSelect(value) {\n    var cause = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var props = this.props;\n\n    if (!('value' in props)) {\n      this.setState({\n        value: value\n      });\n    }\n\n    if (cause.source === 'keyboard' || !props.calendar.props.timePicker && cause.source !== 'dateInput' || cause.source === 'todayButton') {\n      this.close(this.focus);\n    }\n\n    props.onChange(value);\n  },\n  onKeyDown: function onKeyDown(event) {\n    if (event.keyCode === KeyCode.DOWN && !this.state.open) {\n      this.open();\n      event.preventDefault();\n    }\n  },\n  onCalendarOk: function onCalendarOk() {\n    this.close(this.focus);\n  },\n  onCalendarClear: function onCalendarClear() {\n    this.close(this.focus);\n  },\n  onVisibleChange: function onVisibleChange(open) {\n    this.setOpen(open);\n  },\n  getCalendarElement: function getCalendarElement() {\n    var props = this.props;\n    var state = this.state;\n    var calendarProps = props.calendar.props;\n    var value = state.value;\n    var defaultValue = value;\n    var extraProps = {\n      ref: this.saveCalendarRef,\n      defaultValue: defaultValue || calendarProps.defaultValue,\n      selectedValue: value,\n      onKeyDown: this.onCalendarKeyDown,\n      onOk: createChainedFunction(calendarProps.onOk, this.onCalendarOk),\n      onSelect: createChainedFunction(calendarProps.onSelect, this.onCalendarSelect),\n      onClear: createChainedFunction(calendarProps.onClear, this.onCalendarClear)\n    };\n    return React.cloneElement(props.calendar, extraProps);\n  },\n  setOpen: function setOpen(open, callback) {\n    var onOpenChange = this.props.onOpenChange;\n\n    if (this.state.open !== open) {\n      if (!('open' in this.props)) {\n        this.setState({\n          open: open\n        }, callback);\n      }\n\n      onOpenChange(open);\n    }\n  },\n  open: function open(callback) {\n    this.setOpen(true, callback);\n  },\n  close: function close(callback) {\n    this.setOpen(false, callback);\n  },\n  focus: function focus() {\n    if (!this.state.open) {\n      ReactDOM.findDOMNode(this).focus();\n    }\n  },\n  focusCalendar: function focusCalendar() {\n    if (this.state.open && !!this.calendarInstance) {\n      this.calendarInstance.focus();\n    }\n  },\n  render: function render() {\n    var props = this.props;\n    var prefixCls = props.prefixCls,\n        placement = props.placement,\n        style = props.style,\n        getCalendarContainer = props.getCalendarContainer,\n        align = props.align,\n        animation = props.animation,\n        disabled = props.disabled,\n        dropdownClassName = props.dropdownClassName,\n        transitionName = props.transitionName,\n        children = props.children;\n    var state = this.state;\n    return React.createElement(Trigger, {\n      popup: this.getCalendarElement(),\n      popupAlign: align,\n      builtinPlacements: placements,\n      popupPlacement: placement,\n      action: disabled && !state.open ? [] : ['click'],\n      destroyPopupOnHide: true,\n      getPopupContainer: getCalendarContainer,\n      popupStyle: style,\n      popupAnimation: animation,\n      popupTransitionName: transitionName,\n      popupVisible: state.open,\n      onPopupVisibleChange: this.onVisibleChange,\n      prefixCls: prefixCls,\n      popupClassName: dropdownClassName\n    }, React.cloneElement(children(state, props), {\n      onKeyDown: this.onKeyDown\n    }));\n  }\n});\nexport default Picker;","map":{"version":3,"sources":["/Users/administrator/Desktop/DrChain/drchain_frontend/drchain/node_modules/rc-calendar/es/Picker.js"],"names":["React","ReactDOM","createReactClass","PropTypes","createChainedFunction","KeyCode","placements","Trigger","noop","refFn","field","component","Picker","displayName","propTypes","animation","oneOfType","func","string","disabled","bool","transitionName","onChange","onOpenChange","children","getCalendarContainer","calendar","element","style","object","open","defaultOpen","prefixCls","placement","any","value","array","defaultValue","align","getDefaultProps","getInitialState","props","saveCalendarRef","bind","componentWillReceiveProps","nextProps","setState","undefined","componentDidUpdate","_","prevState","state","focusTimeout","setTimeout","focusCalendar","componentWillUnmount","clearTimeout","onCalendarKeyDown","event","keyCode","ESC","stopPropagation","close","focus","onCalendarSelect","cause","arguments","length","source","timePicker","onKeyDown","DOWN","preventDefault","onCalendarOk","onCalendarClear","onVisibleChange","setOpen","getCalendarElement","calendarProps","extraProps","ref","selectedValue","onOk","onSelect","onClear","cloneElement","callback","findDOMNode","calendarInstance","render","dropdownClassName","createElement","popup","popupAlign","builtinPlacements","popupPlacement","action","destroyPopupOnHide","getPopupContainer","popupStyle","popupAnimation","popupTransitionName","popupVisible","onPopupVisibleChange","popupClassName"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport createReactClass from 'create-react-class';\nimport PropTypes from 'prop-types';\nimport createChainedFunction from 'rc-util/es/createChainedFunction';\nimport KeyCode from 'rc-util/es/KeyCode';\nimport placements from './picker/placements';\nimport Trigger from 'rc-trigger';\n\nfunction noop() {}\n\nfunction refFn(field, component) {\n  this[field] = component;\n}\n\nvar Picker = createReactClass({\n  displayName: 'Picker',\n\n  propTypes: {\n    animation: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n    disabled: PropTypes.bool,\n    transitionName: PropTypes.string,\n    onChange: PropTypes.func,\n    onOpenChange: PropTypes.func,\n    children: PropTypes.func,\n    getCalendarContainer: PropTypes.func,\n    calendar: PropTypes.element,\n    style: PropTypes.object,\n    open: PropTypes.bool,\n    defaultOpen: PropTypes.bool,\n    prefixCls: PropTypes.string,\n    placement: PropTypes.any,\n    value: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n    defaultValue: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n    align: PropTypes.object\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      prefixCls: 'rc-calendar-picker',\n      style: {},\n      align: {},\n      placement: 'bottomLeft',\n      defaultOpen: false,\n      onChange: noop,\n      onOpenChange: noop\n    };\n  },\n  getInitialState: function getInitialState() {\n    var props = this.props;\n    var open = void 0;\n    if ('open' in props) {\n      open = props.open;\n    } else {\n      open = props.defaultOpen;\n    }\n    var value = props.value || props.defaultValue;\n    this.saveCalendarRef = refFn.bind(this, 'calendarInstance');\n    return {\n      open: open,\n      value: value\n    };\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    var value = nextProps.value,\n        open = nextProps.open;\n\n    if ('value' in nextProps) {\n      this.setState({\n        value: value\n      });\n    }\n    if (open !== undefined) {\n      this.setState({\n        open: open\n      });\n    }\n  },\n  componentDidUpdate: function componentDidUpdate(_, prevState) {\n    if (!prevState.open && this.state.open) {\n      // setTimeout is for making sure saveCalendarRef happen before focusCalendar\n      this.focusTimeout = setTimeout(this.focusCalendar, 0, this);\n    }\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    clearTimeout(this.focusTimeout);\n  },\n  onCalendarKeyDown: function onCalendarKeyDown(event) {\n    if (event.keyCode === KeyCode.ESC) {\n      event.stopPropagation();\n      this.close(this.focus);\n    }\n  },\n  onCalendarSelect: function onCalendarSelect(value) {\n    var cause = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var props = this.props;\n    if (!('value' in props)) {\n      this.setState({\n        value: value\n      });\n    }\n    if (cause.source === 'keyboard' || !props.calendar.props.timePicker && cause.source !== 'dateInput' || cause.source === 'todayButton') {\n      this.close(this.focus);\n    }\n    props.onChange(value);\n  },\n  onKeyDown: function onKeyDown(event) {\n    if (event.keyCode === KeyCode.DOWN && !this.state.open) {\n      this.open();\n      event.preventDefault();\n    }\n  },\n  onCalendarOk: function onCalendarOk() {\n    this.close(this.focus);\n  },\n  onCalendarClear: function onCalendarClear() {\n    this.close(this.focus);\n  },\n  onVisibleChange: function onVisibleChange(open) {\n    this.setOpen(open);\n  },\n  getCalendarElement: function getCalendarElement() {\n    var props = this.props;\n    var state = this.state;\n    var calendarProps = props.calendar.props;\n    var value = state.value;\n\n    var defaultValue = value;\n    var extraProps = {\n      ref: this.saveCalendarRef,\n      defaultValue: defaultValue || calendarProps.defaultValue,\n      selectedValue: value,\n      onKeyDown: this.onCalendarKeyDown,\n      onOk: createChainedFunction(calendarProps.onOk, this.onCalendarOk),\n      onSelect: createChainedFunction(calendarProps.onSelect, this.onCalendarSelect),\n      onClear: createChainedFunction(calendarProps.onClear, this.onCalendarClear)\n    };\n\n    return React.cloneElement(props.calendar, extraProps);\n  },\n  setOpen: function setOpen(open, callback) {\n    var onOpenChange = this.props.onOpenChange;\n\n    if (this.state.open !== open) {\n      if (!('open' in this.props)) {\n        this.setState({\n          open: open\n        }, callback);\n      }\n      onOpenChange(open);\n    }\n  },\n  open: function open(callback) {\n    this.setOpen(true, callback);\n  },\n  close: function close(callback) {\n    this.setOpen(false, callback);\n  },\n  focus: function focus() {\n    if (!this.state.open) {\n      ReactDOM.findDOMNode(this).focus();\n    }\n  },\n  focusCalendar: function focusCalendar() {\n    if (this.state.open && !!this.calendarInstance) {\n      this.calendarInstance.focus();\n    }\n  },\n  render: function render() {\n    var props = this.props;\n    var prefixCls = props.prefixCls,\n        placement = props.placement,\n        style = props.style,\n        getCalendarContainer = props.getCalendarContainer,\n        align = props.align,\n        animation = props.animation,\n        disabled = props.disabled,\n        dropdownClassName = props.dropdownClassName,\n        transitionName = props.transitionName,\n        children = props.children;\n\n    var state = this.state;\n    return React.createElement(\n      Trigger,\n      {\n        popup: this.getCalendarElement(),\n        popupAlign: align,\n        builtinPlacements: placements,\n        popupPlacement: placement,\n        action: disabled && !state.open ? [] : ['click'],\n        destroyPopupOnHide: true,\n        getPopupContainer: getCalendarContainer,\n        popupStyle: style,\n        popupAnimation: animation,\n        popupTransitionName: transitionName,\n        popupVisible: state.open,\n        onPopupVisibleChange: this.onVisibleChange,\n        prefixCls: prefixCls,\n        popupClassName: dropdownClassName\n      },\n      React.cloneElement(children(state, props), { onKeyDown: this.onKeyDown })\n    );\n  }\n});\n\nexport default Picker;"]},"metadata":{},"sourceType":"module"}