{"ast":null,"code":"import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport classnames from 'classnames';\nimport { setTransform, isTransformSupported } from './utils';\nimport React from 'react';\nimport addEventListener from 'rc-util/es/Dom/addEventListener';\nimport debounce from 'lodash/debounce';\nexport default {\n  getDefaultProps: function getDefaultProps() {\n    return {\n      scrollAnimated: true,\n      onPrevClick: function onPrevClick() {},\n      onNextClick: function onNextClick() {}\n    };\n  },\n  getInitialState: function getInitialState() {\n    this.offset = 0;\n    return {\n      next: false,\n      prev: false\n    };\n  },\n  componentDidMount: function componentDidMount() {\n    var _this = this;\n\n    this.componentDidUpdate();\n    this.debouncedResize = debounce(function () {\n      _this.setNextPrev();\n\n      _this.scrollToActiveTab();\n    }, 200);\n    this.resizeEvent = addEventListener(window, 'resize', this.debouncedResize);\n  },\n  componentDidUpdate: function componentDidUpdate(prevProps) {\n    var props = this.props;\n\n    if (prevProps && prevProps.tabBarPosition !== props.tabBarPosition) {\n      this.setOffset(0);\n      return;\n    }\n\n    var nextPrev = this.setNextPrev();\n\n    if (this.isNextPrevShown(this.state) !== this.isNextPrevShown(nextPrev)) {\n      this.setState({}, this.scrollToActiveTab);\n    } else if (!prevProps || props.activeKey !== prevProps.activeKey) {\n      this.scrollToActiveTab();\n    }\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    if (this.resizeEvent) {\n      this.resizeEvent.remove();\n    }\n\n    if (this.debouncedResize && this.debouncedResize.cancel) {\n      this.debouncedResize.cancel();\n    }\n  },\n  setNextPrev: function setNextPrev() {\n    var navNode = this.nav;\n    var navNodeWH = this.getScrollWH(navNode);\n    var containerWH = this.getOffsetWH(this.container);\n    var navWrapNodeWH = this.getOffsetWH(this.navWrap);\n    var offset = this.offset;\n    var minOffset = containerWH - navNodeWH;\n    var _state = this.state,\n        next = _state.next,\n        prev = _state.prev;\n\n    if (minOffset >= 0) {\n      next = false;\n      this.setOffset(0, false);\n      offset = 0;\n    } else if (minOffset < offset) {\n      next = true;\n    } else {\n      next = false;\n      var realOffset = navWrapNodeWH - navNodeWH;\n      this.setOffset(realOffset, false);\n      offset = realOffset;\n    }\n\n    if (offset < 0) {\n      prev = true;\n    } else {\n      prev = false;\n    }\n\n    this.setNext(next);\n    this.setPrev(prev);\n    return {\n      next: next,\n      prev: prev\n    };\n  },\n  getOffsetWH: function getOffsetWH(node) {\n    var tabBarPosition = this.props.tabBarPosition;\n    var prop = 'offsetWidth';\n\n    if (tabBarPosition === 'left' || tabBarPosition === 'right') {\n      prop = 'offsetHeight';\n    }\n\n    return node[prop];\n  },\n  getScrollWH: function getScrollWH(node) {\n    var tabBarPosition = this.props.tabBarPosition;\n    var prop = 'scrollWidth';\n\n    if (tabBarPosition === 'left' || tabBarPosition === 'right') {\n      prop = 'scrollHeight';\n    }\n\n    return node[prop];\n  },\n  getOffsetLT: function getOffsetLT(node) {\n    var tabBarPosition = this.props.tabBarPosition;\n    var prop = 'left';\n\n    if (tabBarPosition === 'left' || tabBarPosition === 'right') {\n      prop = 'top';\n    }\n\n    return node.getBoundingClientRect()[prop];\n  },\n  setOffset: function setOffset(offset) {\n    var checkNextPrev = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var target = Math.min(0, offset);\n\n    if (this.offset !== target) {\n      this.offset = target;\n      var navOffset = {};\n      var tabBarPosition = this.props.tabBarPosition;\n      var navStyle = this.nav.style;\n      var transformSupported = isTransformSupported(navStyle);\n\n      if (tabBarPosition === 'left' || tabBarPosition === 'right') {\n        if (transformSupported) {\n          navOffset = {\n            value: 'translate3d(0,' + target + 'px,0)'\n          };\n        } else {\n          navOffset = {\n            name: 'top',\n            value: target + 'px'\n          };\n        }\n      } else {\n        if (transformSupported) {\n          navOffset = {\n            value: 'translate3d(' + target + 'px,0,0)'\n          };\n        } else {\n          navOffset = {\n            name: 'left',\n            value: target + 'px'\n          };\n        }\n      }\n\n      if (transformSupported) {\n        setTransform(navStyle, navOffset.value);\n      } else {\n        navStyle[navOffset.name] = navOffset.value;\n      }\n\n      if (checkNextPrev) {\n        this.setNextPrev();\n      }\n    }\n  },\n  setPrev: function setPrev(v) {\n    if (this.state.prev !== v) {\n      this.setState({\n        prev: v\n      });\n    }\n  },\n  setNext: function setNext(v) {\n    if (this.state.next !== v) {\n      this.setState({\n        next: v\n      });\n    }\n  },\n  isNextPrevShown: function isNextPrevShown(state) {\n    if (state) {\n      return state.next || state.prev;\n    }\n\n    return this.state.next || this.state.prev;\n  },\n  prevTransitionEnd: function prevTransitionEnd(e) {\n    if (e.propertyName !== 'opacity') {\n      return;\n    }\n\n    var container = this.container;\n    this.scrollToActiveTab({\n      target: container,\n      currentTarget: container\n    });\n  },\n  scrollToActiveTab: function scrollToActiveTab(e) {\n    var activeTab = this.activeTab,\n        navWrap = this.navWrap;\n\n    if (e && e.target !== e.currentTarget || !activeTab) {\n      return;\n    }\n\n    var needToSroll = this.isNextPrevShown() && this.lastNextPrevShown;\n    this.lastNextPrevShown = this.isNextPrevShown();\n\n    if (!needToSroll) {\n      return;\n    }\n\n    var activeTabWH = this.getScrollWH(activeTab);\n    var navWrapNodeWH = this.getOffsetWH(navWrap);\n    var offset = this.offset;\n    var wrapOffset = this.getOffsetLT(navWrap);\n    var activeTabOffset = this.getOffsetLT(activeTab);\n\n    if (wrapOffset > activeTabOffset) {\n      offset += wrapOffset - activeTabOffset;\n      this.setOffset(offset);\n    } else if (wrapOffset + navWrapNodeWH < activeTabOffset + activeTabWH) {\n      offset -= activeTabOffset + activeTabWH - (wrapOffset + navWrapNodeWH);\n      this.setOffset(offset);\n    }\n  },\n  prev: function prev(e) {\n    this.props.onPrevClick(e);\n    var navWrapNode = this.navWrap;\n    var navWrapNodeWH = this.getOffsetWH(navWrapNode);\n    var offset = this.offset;\n    this.setOffset(offset + navWrapNodeWH);\n  },\n  next: function next(e) {\n    this.props.onNextClick(e);\n    var navWrapNode = this.navWrap;\n    var navWrapNodeWH = this.getOffsetWH(navWrapNode);\n    var offset = this.offset;\n    this.setOffset(offset - navWrapNodeWH);\n  },\n  getScrollBarNode: function getScrollBarNode(content) {\n    var _classnames, _classnames2, _classnames3, _classnames4;\n\n    var _state2 = this.state,\n        next = _state2.next,\n        prev = _state2.prev;\n    var _props = this.props,\n        prefixCls = _props.prefixCls,\n        scrollAnimated = _props.scrollAnimated,\n        navWrapper = _props.navWrapper;\n    var showNextPrev = prev || next;\n    var prevButton = React.createElement('span', {\n      onClick: prev ? this.prev : null,\n      unselectable: 'unselectable',\n      className: classnames((_classnames = {}, _defineProperty(_classnames, prefixCls + '-tab-prev', 1), _defineProperty(_classnames, prefixCls + '-tab-btn-disabled', !prev), _defineProperty(_classnames, prefixCls + '-tab-arrow-show', showNextPrev), _classnames)),\n      onTransitionEnd: this.prevTransitionEnd\n    }, React.createElement('span', {\n      className: prefixCls + '-tab-prev-icon'\n    }));\n    var nextButton = React.createElement('span', {\n      onClick: next ? this.next : null,\n      unselectable: 'unselectable',\n      className: classnames((_classnames2 = {}, _defineProperty(_classnames2, prefixCls + '-tab-next', 1), _defineProperty(_classnames2, prefixCls + '-tab-btn-disabled', !next), _defineProperty(_classnames2, prefixCls + '-tab-arrow-show', showNextPrev), _classnames2))\n    }, React.createElement('span', {\n      className: prefixCls + '-tab-next-icon'\n    }));\n    var navClassName = prefixCls + '-nav';\n    var navClasses = classnames((_classnames3 = {}, _defineProperty(_classnames3, navClassName, true), _defineProperty(_classnames3, scrollAnimated ? navClassName + '-animated' : navClassName + '-no-animated', true), _classnames3));\n    return React.createElement('div', {\n      className: classnames((_classnames4 = {}, _defineProperty(_classnames4, prefixCls + '-nav-container', 1), _defineProperty(_classnames4, prefixCls + '-nav-container-scrolling', showNextPrev), _classnames4)),\n      key: 'container',\n      ref: this.saveRef('container')\n    }, prevButton, nextButton, React.createElement('div', {\n      className: prefixCls + '-nav-wrap',\n      ref: this.saveRef('navWrap')\n    }, React.createElement('div', {\n      className: prefixCls + '-nav-scroll'\n    }, React.createElement('div', {\n      className: navClasses,\n      ref: this.saveRef('nav')\n    }, navWrapper(content)))));\n  }\n};","map":{"version":3,"sources":["/Users/administrator/Desktop/DrChain/drchain_frontend/drchain/node_modules/rc-tabs/es/ScrollableTabBarMixin.js"],"names":["_defineProperty","classnames","setTransform","isTransformSupported","React","addEventListener","debounce","getDefaultProps","scrollAnimated","onPrevClick","onNextClick","getInitialState","offset","next","prev","componentDidMount","_this","componentDidUpdate","debouncedResize","setNextPrev","scrollToActiveTab","resizeEvent","window","prevProps","props","tabBarPosition","setOffset","nextPrev","isNextPrevShown","state","setState","activeKey","componentWillUnmount","remove","cancel","navNode","nav","navNodeWH","getScrollWH","containerWH","getOffsetWH","container","navWrapNodeWH","navWrap","minOffset","_state","realOffset","setNext","setPrev","node","prop","getOffsetLT","getBoundingClientRect","checkNextPrev","arguments","length","undefined","target","Math","min","navOffset","navStyle","style","transformSupported","value","name","v","prevTransitionEnd","e","propertyName","currentTarget","activeTab","needToSroll","lastNextPrevShown","activeTabWH","wrapOffset","activeTabOffset","navWrapNode","getScrollBarNode","content","_classnames","_classnames2","_classnames3","_classnames4","_state2","_props","prefixCls","navWrapper","showNextPrev","prevButton","createElement","onClick","unselectable","className","onTransitionEnd","nextButton","navClassName","navClasses","key","ref","saveRef"],"mappings":"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","sourcesContent":["import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport classnames from 'classnames';\nimport { setTransform, isTransformSupported } from './utils';\nimport React from 'react';\nimport addEventListener from 'rc-util/es/Dom/addEventListener';\nimport debounce from 'lodash/debounce';\n\nexport default {\n  getDefaultProps: function getDefaultProps() {\n    return {\n      scrollAnimated: true,\n      onPrevClick: function onPrevClick() {},\n      onNextClick: function onNextClick() {}\n    };\n  },\n  getInitialState: function getInitialState() {\n    this.offset = 0;\n    return {\n      next: false,\n      prev: false\n    };\n  },\n  componentDidMount: function componentDidMount() {\n    var _this = this;\n\n    this.componentDidUpdate();\n    this.debouncedResize = debounce(function () {\n      _this.setNextPrev();\n      _this.scrollToActiveTab();\n    }, 200);\n    this.resizeEvent = addEventListener(window, 'resize', this.debouncedResize);\n  },\n  componentDidUpdate: function componentDidUpdate(prevProps) {\n    var props = this.props;\n    if (prevProps && prevProps.tabBarPosition !== props.tabBarPosition) {\n      this.setOffset(0);\n      return;\n    }\n    var nextPrev = this.setNextPrev();\n        \n    if (this.isNextPrevShown(this.state) !== this.isNextPrevShown(nextPrev)) {\n      this.setState({}, this.scrollToActiveTab);\n    } else if (!prevProps || props.activeKey !== prevProps.activeKey) {\n            this.scrollToActiveTab();\n    }\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    if (this.resizeEvent) {\n      this.resizeEvent.remove();\n    }\n    if (this.debouncedResize && this.debouncedResize.cancel) {\n      this.debouncedResize.cancel();\n    }\n  },\n  setNextPrev: function setNextPrev() {\n    var navNode = this.nav;\n    var navNodeWH = this.getScrollWH(navNode);\n    var containerWH = this.getOffsetWH(this.container);\n    var navWrapNodeWH = this.getOffsetWH(this.navWrap);\n    var offset = this.offset;\n\n    var minOffset = containerWH - navNodeWH;\n    var _state = this.state,\n        next = _state.next,\n        prev = _state.prev;\n\n    if (minOffset >= 0) {\n      next = false;\n      this.setOffset(0, false);\n      offset = 0;\n    } else if (minOffset < offset) {\n      next = true;\n    } else {\n      next = false;\n                        var realOffset = navWrapNodeWH - navNodeWH;\n      this.setOffset(realOffset, false);\n      offset = realOffset;\n    }\n\n    if (offset < 0) {\n      prev = true;\n    } else {\n      prev = false;\n    }\n\n    this.setNext(next);\n    this.setPrev(prev);\n    return {\n      next: next,\n      prev: prev\n    };\n  },\n  getOffsetWH: function getOffsetWH(node) {\n    var tabBarPosition = this.props.tabBarPosition;\n    var prop = 'offsetWidth';\n    if (tabBarPosition === 'left' || tabBarPosition === 'right') {\n      prop = 'offsetHeight';\n    }\n    return node[prop];\n  },\n  getScrollWH: function getScrollWH(node) {\n    var tabBarPosition = this.props.tabBarPosition;\n    var prop = 'scrollWidth';\n    if (tabBarPosition === 'left' || tabBarPosition === 'right') {\n      prop = 'scrollHeight';\n    }\n    return node[prop];\n  },\n  getOffsetLT: function getOffsetLT(node) {\n    var tabBarPosition = this.props.tabBarPosition;\n    var prop = 'left';\n    if (tabBarPosition === 'left' || tabBarPosition === 'right') {\n      prop = 'top';\n    }\n    return node.getBoundingClientRect()[prop];\n  },\n  setOffset: function setOffset(offset) {\n    var checkNextPrev = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    var target = Math.min(0, offset);\n    if (this.offset !== target) {\n      this.offset = target;\n      var navOffset = {};\n      var tabBarPosition = this.props.tabBarPosition;\n      var navStyle = this.nav.style;\n      var transformSupported = isTransformSupported(navStyle);\n      if (tabBarPosition === 'left' || tabBarPosition === 'right') {\n        if (transformSupported) {\n          navOffset = {\n            value: 'translate3d(0,' + target + 'px,0)'\n          };\n        } else {\n          navOffset = {\n            name: 'top',\n            value: target + 'px'\n          };\n        }\n      } else {\n        if (transformSupported) {\n          navOffset = {\n            value: 'translate3d(' + target + 'px,0,0)'\n          };\n        } else {\n          navOffset = {\n            name: 'left',\n            value: target + 'px'\n          };\n        }\n      }\n      if (transformSupported) {\n        setTransform(navStyle, navOffset.value);\n      } else {\n        navStyle[navOffset.name] = navOffset.value;\n      }\n      if (checkNextPrev) {\n        this.setNextPrev();\n      }\n    }\n  },\n  setPrev: function setPrev(v) {\n    if (this.state.prev !== v) {\n      this.setState({\n        prev: v\n      });\n    }\n  },\n  setNext: function setNext(v) {\n    if (this.state.next !== v) {\n      this.setState({\n        next: v\n      });\n    }\n  },\n  isNextPrevShown: function isNextPrevShown(state) {\n    if (state) {\n      return state.next || state.prev;\n    }\n    return this.state.next || this.state.prev;\n  },\n  prevTransitionEnd: function prevTransitionEnd(e) {\n    if (e.propertyName !== 'opacity') {\n      return;\n    }\n    var container = this.container;\n\n    this.scrollToActiveTab({\n      target: container,\n      currentTarget: container\n    });\n  },\n  scrollToActiveTab: function scrollToActiveTab(e) {\n    var activeTab = this.activeTab,\n        navWrap = this.navWrap;\n\n    if (e && e.target !== e.currentTarget || !activeTab) {\n      return;\n    }\n\n        var needToSroll = this.isNextPrevShown() && this.lastNextPrevShown;\n    this.lastNextPrevShown = this.isNextPrevShown();\n    if (!needToSroll) {\n      return;\n    }\n\n    var activeTabWH = this.getScrollWH(activeTab);\n    var navWrapNodeWH = this.getOffsetWH(navWrap);\n    var offset = this.offset;\n\n    var wrapOffset = this.getOffsetLT(navWrap);\n    var activeTabOffset = this.getOffsetLT(activeTab);\n    if (wrapOffset > activeTabOffset) {\n      offset += wrapOffset - activeTabOffset;\n      this.setOffset(offset);\n    } else if (wrapOffset + navWrapNodeWH < activeTabOffset + activeTabWH) {\n      offset -= activeTabOffset + activeTabWH - (wrapOffset + navWrapNodeWH);\n      this.setOffset(offset);\n    }\n  },\n  prev: function prev(e) {\n    this.props.onPrevClick(e);\n    var navWrapNode = this.navWrap;\n    var navWrapNodeWH = this.getOffsetWH(navWrapNode);\n    var offset = this.offset;\n\n    this.setOffset(offset + navWrapNodeWH);\n  },\n  next: function next(e) {\n    this.props.onNextClick(e);\n    var navWrapNode = this.navWrap;\n    var navWrapNodeWH = this.getOffsetWH(navWrapNode);\n    var offset = this.offset;\n\n    this.setOffset(offset - navWrapNodeWH);\n  },\n  getScrollBarNode: function getScrollBarNode(content) {\n    var _classnames, _classnames2, _classnames3, _classnames4;\n\n    var _state2 = this.state,\n        next = _state2.next,\n        prev = _state2.prev;\n    var _props = this.props,\n        prefixCls = _props.prefixCls,\n        scrollAnimated = _props.scrollAnimated,\n        navWrapper = _props.navWrapper;\n\n    var showNextPrev = prev || next;\n\n    var prevButton = React.createElement(\n      'span',\n      {\n        onClick: prev ? this.prev : null,\n        unselectable: 'unselectable',\n        className: classnames((_classnames = {}, _defineProperty(_classnames, prefixCls + '-tab-prev', 1), _defineProperty(_classnames, prefixCls + '-tab-btn-disabled', !prev), _defineProperty(_classnames, prefixCls + '-tab-arrow-show', showNextPrev), _classnames)),\n        onTransitionEnd: this.prevTransitionEnd\n      },\n      React.createElement('span', { className: prefixCls + '-tab-prev-icon' })\n    );\n\n    var nextButton = React.createElement(\n      'span',\n      {\n        onClick: next ? this.next : null,\n        unselectable: 'unselectable',\n        className: classnames((_classnames2 = {}, _defineProperty(_classnames2, prefixCls + '-tab-next', 1), _defineProperty(_classnames2, prefixCls + '-tab-btn-disabled', !next), _defineProperty(_classnames2, prefixCls + '-tab-arrow-show', showNextPrev), _classnames2))\n      },\n      React.createElement('span', { className: prefixCls + '-tab-next-icon' })\n    );\n\n    var navClassName = prefixCls + '-nav';\n    var navClasses = classnames((_classnames3 = {}, _defineProperty(_classnames3, navClassName, true), _defineProperty(_classnames3, scrollAnimated ? navClassName + '-animated' : navClassName + '-no-animated', true), _classnames3));\n\n    return React.createElement(\n      'div',\n      {\n        className: classnames((_classnames4 = {}, _defineProperty(_classnames4, prefixCls + '-nav-container', 1), _defineProperty(_classnames4, prefixCls + '-nav-container-scrolling', showNextPrev), _classnames4)),\n        key: 'container',\n        ref: this.saveRef('container')\n      },\n      prevButton,\n      nextButton,\n      React.createElement(\n        'div',\n        { className: prefixCls + '-nav-wrap', ref: this.saveRef('navWrap') },\n        React.createElement(\n          'div',\n          { className: prefixCls + '-nav-scroll' },\n          React.createElement(\n            'div',\n            { className: navClasses, ref: this.saveRef('nav') },\n            navWrapper(content)\n          )\n        )\n      )\n    );\n  }\n};"]},"metadata":{},"sourceType":"module"}