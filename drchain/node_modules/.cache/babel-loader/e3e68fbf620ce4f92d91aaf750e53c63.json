{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport * as React from 'react';\nimport { createElement, Component } from 'react';\nimport omit from 'omit.js';\nimport classNames from 'classnames';\n\nfunction getNumberArray(num) {\n  return num ? num.toString().split('').reverse().map(function (i) {\n    return Number(i);\n  }) : [];\n}\n\nvar ScrollNumber = function (_Component) {\n  _inherits(ScrollNumber, _Component);\n\n  function ScrollNumber(props) {\n    _classCallCheck(this, ScrollNumber);\n\n    var _this = _possibleConstructorReturn(this, (ScrollNumber.__proto__ || Object.getPrototypeOf(ScrollNumber)).call(this, props));\n\n    _this.state = {\n      animateStarted: true,\n      count: props.count\n    };\n    return _this;\n  }\n\n  _createClass(ScrollNumber, [{\n    key: 'getPositionByNum',\n    value: function getPositionByNum(num, i) {\n      if (this.state.animateStarted) {\n        return 10 + num;\n      }\n\n      var currentDigit = getNumberArray(this.state.count)[i];\n      var lastDigit = getNumberArray(this.lastCount)[i]; // 同方向则在同一侧切换数字\n\n      if (this.state.count > this.lastCount) {\n        if (currentDigit >= lastDigit) {\n          return 10 + num;\n        }\n\n        return 20 + num;\n      }\n\n      if (currentDigit <= lastDigit) {\n        return 10 + num;\n      }\n\n      return num;\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      if ('count' in nextProps) {\n        if (this.state.count === nextProps.count) {\n          return;\n        }\n\n        this.lastCount = this.state.count; // 复原数字初始位置\n\n        this.setState({\n          animateStarted: true\n        }, function () {\n          // 等待数字位置复原完毕\n          // 开始设置完整的数字\n          setTimeout(function () {\n            _this2.setState({\n              animateStarted: false,\n              count: nextProps.count\n            }, function () {\n              var onAnimated = _this2.props.onAnimated;\n\n              if (onAnimated) {\n                onAnimated();\n              }\n            });\n          }, 5);\n        });\n      }\n    }\n  }, {\n    key: 'renderNumberList',\n    value: function renderNumberList(position) {\n      var childrenToReturn = [];\n\n      for (var i = 0; i < 30; i++) {\n        var currentClassName = position === i ? 'current' : '';\n        childrenToReturn.push(React.createElement('p', {\n          key: i.toString(),\n          className: currentClassName\n        }, i % 10));\n      }\n\n      return childrenToReturn;\n    }\n  }, {\n    key: 'renderCurrentNumber',\n    value: function renderCurrentNumber(num, i) {\n      var position = this.getPositionByNum(num, i);\n      var removeTransition = this.state.animateStarted || getNumberArray(this.lastCount)[i] === undefined;\n      return createElement('span', {\n        className: this.props.prefixCls + '-only',\n        style: {\n          transition: removeTransition ? 'none' : undefined,\n          msTransform: 'translateY(' + -position * 100 + '%)',\n          WebkitTransform: 'translateY(' + -position * 100 + '%)',\n          transform: 'translateY(' + -position * 100 + '%)'\n        },\n        key: i\n      }, this.renderNumberList(position));\n    }\n  }, {\n    key: 'renderNumberElement',\n    value: function renderNumberElement() {\n      var _this3 = this;\n\n      var state = this.state;\n\n      if (!state.count || isNaN(state.count)) {\n        return state.count;\n      }\n\n      return getNumberArray(state.count).map(function (num, i) {\n        return _this3.renderCurrentNumber(num, i);\n      }).reverse();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          prefixCls = _props.prefixCls,\n          className = _props.className,\n          style = _props.style,\n          title = _props.title,\n          _props$component = _props.component,\n          component = _props$component === undefined ? 'sup' : _props$component; // fix https://fb.me/react-unknown-prop\n\n      var restProps = omit(this.props, ['count', 'onAnimated', 'component', 'prefixCls']);\n\n      var newProps = _extends({}, restProps, {\n        className: classNames(prefixCls, className),\n        title: title\n      }); // allow specify the border\n      // mock border-color by box-shadow for compatible with old usage:\n      // <Badge count={4} style={{ backgroundColor: '#fff', color: '#999', borderColor: '#d9d9d9' }} />\n\n\n      if (style && style.borderColor) {\n        newProps.style.boxShadow = '0 0 0 1px ' + style.borderColor + ' inset';\n      }\n\n      return createElement(component, newProps, this.renderNumberElement());\n    }\n  }]);\n\n  return ScrollNumber;\n}(Component);\n\nexport default ScrollNumber;\nScrollNumber.defaultProps = {\n  prefixCls: 'ant-scroll-number',\n  count: null,\n  onAnimated: function onAnimated() {}\n};","map":{"version":3,"sources":["/Users/administrator/Desktop/DrChain/drchain_frontend/drchain/node_modules/antd/es/badge/ScrollNumber.js"],"names":["_extends","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","createElement","Component","omit","classNames","getNumberArray","num","toString","split","reverse","map","i","Number","ScrollNumber","_Component","props","_this","__proto__","Object","getPrototypeOf","call","state","animateStarted","count","key","value","getPositionByNum","currentDigit","lastDigit","lastCount","componentWillReceiveProps","nextProps","_this2","setState","setTimeout","onAnimated","renderNumberList","position","childrenToReturn","currentClassName","push","className","renderCurrentNumber","removeTransition","undefined","prefixCls","style","transition","msTransform","WebkitTransform","transform","renderNumberElement","_this3","isNaN","render","_props","title","_props$component","component","restProps","newProps","borderColor","boxShadow","defaultProps"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport * as React from 'react';\nimport { createElement, Component } from 'react';\nimport omit from 'omit.js';\nimport classNames from 'classnames';\nfunction getNumberArray(num) {\n    return num ? num.toString().split('').reverse().map(function (i) {\n        return Number(i);\n    }) : [];\n}\n\nvar ScrollNumber = function (_Component) {\n    _inherits(ScrollNumber, _Component);\n\n    function ScrollNumber(props) {\n        _classCallCheck(this, ScrollNumber);\n\n        var _this = _possibleConstructorReturn(this, (ScrollNumber.__proto__ || Object.getPrototypeOf(ScrollNumber)).call(this, props));\n\n        _this.state = {\n            animateStarted: true,\n            count: props.count\n        };\n        return _this;\n    }\n\n    _createClass(ScrollNumber, [{\n        key: 'getPositionByNum',\n        value: function getPositionByNum(num, i) {\n            if (this.state.animateStarted) {\n                return 10 + num;\n            }\n            var currentDigit = getNumberArray(this.state.count)[i];\n            var lastDigit = getNumberArray(this.lastCount)[i];\n            // 同方向则在同一侧切换数字\n            if (this.state.count > this.lastCount) {\n                if (currentDigit >= lastDigit) {\n                    return 10 + num;\n                }\n                return 20 + num;\n            }\n            if (currentDigit <= lastDigit) {\n                return 10 + num;\n            }\n            return num;\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            var _this2 = this;\n\n            if ('count' in nextProps) {\n                if (this.state.count === nextProps.count) {\n                    return;\n                }\n                this.lastCount = this.state.count;\n                // 复原数字初始位置\n                this.setState({\n                    animateStarted: true\n                }, function () {\n                    // 等待数字位置复原完毕\n                    // 开始设置完整的数字\n                    setTimeout(function () {\n                        _this2.setState({\n                            animateStarted: false,\n                            count: nextProps.count\n                        }, function () {\n                            var onAnimated = _this2.props.onAnimated;\n                            if (onAnimated) {\n                                onAnimated();\n                            }\n                        });\n                    }, 5);\n                });\n            }\n        }\n    }, {\n        key: 'renderNumberList',\n        value: function renderNumberList(position) {\n            var childrenToReturn = [];\n            for (var i = 0; i < 30; i++) {\n                var currentClassName = position === i ? 'current' : '';\n                childrenToReturn.push(React.createElement(\n                    'p',\n                    { key: i.toString(), className: currentClassName },\n                    i % 10\n                ));\n            }\n            return childrenToReturn;\n        }\n    }, {\n        key: 'renderCurrentNumber',\n        value: function renderCurrentNumber(num, i) {\n            var position = this.getPositionByNum(num, i);\n            var removeTransition = this.state.animateStarted || getNumberArray(this.lastCount)[i] === undefined;\n            return createElement('span', {\n                className: this.props.prefixCls + '-only',\n                style: {\n                    transition: removeTransition ? 'none' : undefined,\n                    msTransform: 'translateY(' + -position * 100 + '%)',\n                    WebkitTransform: 'translateY(' + -position * 100 + '%)',\n                    transform: 'translateY(' + -position * 100 + '%)'\n                },\n                key: i\n            }, this.renderNumberList(position));\n        }\n    }, {\n        key: 'renderNumberElement',\n        value: function renderNumberElement() {\n            var _this3 = this;\n\n            var state = this.state;\n            if (!state.count || isNaN(state.count)) {\n                return state.count;\n            }\n            return getNumberArray(state.count).map(function (num, i) {\n                return _this3.renderCurrentNumber(num, i);\n            }).reverse();\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                prefixCls = _props.prefixCls,\n                className = _props.className,\n                style = _props.style,\n                title = _props.title,\n                _props$component = _props.component,\n                component = _props$component === undefined ? 'sup' : _props$component;\n            // fix https://fb.me/react-unknown-prop\n\n            var restProps = omit(this.props, ['count', 'onAnimated', 'component', 'prefixCls']);\n            var newProps = _extends({}, restProps, { className: classNames(prefixCls, className), title: title });\n            // allow specify the border\n            // mock border-color by box-shadow for compatible with old usage:\n            // <Badge count={4} style={{ backgroundColor: '#fff', color: '#999', borderColor: '#d9d9d9' }} />\n            if (style && style.borderColor) {\n                newProps.style.boxShadow = '0 0 0 1px ' + style.borderColor + ' inset';\n            }\n            return createElement(component, newProps, this.renderNumberElement());\n        }\n    }]);\n\n    return ScrollNumber;\n}(Component);\n\nexport default ScrollNumber;\n\nScrollNumber.defaultProps = {\n    prefixCls: 'ant-scroll-number',\n    count: null,\n    onAnimated: function onAnimated() {}\n};"]},"metadata":{},"sourceType":"module"}