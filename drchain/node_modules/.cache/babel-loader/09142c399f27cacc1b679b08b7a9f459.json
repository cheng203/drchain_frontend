{"ast":null,"code":"var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Trigger from 'rc-trigger';\nimport Menus from './Menus';\nimport KeyCode from 'rc-util/es/KeyCode';\nimport arrayTreeFilter from 'array-tree-filter';\nimport shallowEqualArrays from 'shallow-equal/arrays';\nvar BUILT_IN_PLACEMENTS = {\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1\n    }\n  },\n  topLeft: {\n    points: ['bl', 'tl'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1\n    }\n  },\n  bottomRight: {\n    points: ['tr', 'br'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1\n    }\n  },\n  topRight: {\n    points: ['br', 'tr'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1\n    }\n  }\n};\n\nvar Cascader = function (_Component) {\n  _inherits(Cascader, _Component);\n\n  function Cascader(props) {\n    _classCallCheck(this, Cascader);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _this.setPopupVisible = function (popupVisible) {\n      if (!('popupVisible' in _this.props)) {\n        _this.setState({\n          popupVisible: popupVisible\n        });\n      } // sync activeValue with value when panel open\n\n\n      if (popupVisible && !_this.state.visible) {\n        _this.setState({\n          activeValue: _this.state.value\n        });\n      }\n\n      _this.props.onPopupVisibleChange(popupVisible);\n    };\n\n    _this.handleChange = function (options, setProps, e) {\n      if (e.type !== 'keydown' || e.keyCode === KeyCode.ENTER) {\n        _this.props.onChange(options.map(function (o) {\n          return o.value;\n        }), options);\n\n        _this.setPopupVisible(setProps.visible);\n      }\n    };\n\n    _this.handlePopupVisibleChange = function (popupVisible) {\n      _this.setPopupVisible(popupVisible);\n    };\n\n    _this.handleMenuSelect = function (targetOption, menuIndex, e) {\n      // Keep focused state for keyboard support\n      var triggerNode = _this.trigger.getRootDomNode();\n\n      if (triggerNode && triggerNode.focus) {\n        triggerNode.focus();\n      }\n\n      var _this$props = _this.props,\n          changeOnSelect = _this$props.changeOnSelect,\n          loadData = _this$props.loadData,\n          expandTrigger = _this$props.expandTrigger;\n\n      if (!targetOption || targetOption.disabled) {\n        return;\n      }\n\n      var activeValue = _this.state.activeValue;\n      activeValue = activeValue.slice(0, menuIndex + 1);\n      activeValue[menuIndex] = targetOption.value;\n\n      var activeOptions = _this.getActiveOptions(activeValue);\n\n      if (targetOption.isLeaf === false && !targetOption.children && loadData) {\n        if (changeOnSelect) {\n          _this.handleChange(activeOptions, {\n            visible: true\n          }, e);\n        }\n\n        _this.setState({\n          activeValue: activeValue\n        });\n\n        loadData(activeOptions);\n        return;\n      }\n\n      var newState = {};\n\n      if (!targetOption.children || !targetOption.children.length) {\n        _this.handleChange(activeOptions, {\n          visible: false\n        }, e); // set value to activeValue when select leaf option\n\n\n        newState.value = activeValue; // add e.type judgement to prevent `onChange` being triggered by mouseEnter\n      } else if (changeOnSelect && (e.type === 'click' || e.type === 'keydown')) {\n        if (expandTrigger === 'hover') {\n          _this.handleChange(activeOptions, {\n            visible: false\n          }, e);\n        } else {\n          _this.handleChange(activeOptions, {\n            visible: true\n          }, e);\n        } // set value to activeValue on every select\n\n\n        newState.value = activeValue;\n      }\n\n      newState.activeValue = activeValue; //  not change the value by keyboard\n\n      if ('value' in _this.props || e.type === 'keydown' && e.keyCode !== KeyCode.ENTER) {\n        delete newState.value;\n      }\n\n      _this.setState(newState);\n    };\n\n    _this.handleKeyDown = function (e) {\n      var children = _this.props.children; // https://github.com/ant-design/ant-design/issues/6717\n      // Don't bind keyboard support when children specify the onKeyDown\n\n      if (children && children.props.onKeyDown) {\n        children.props.onKeyDown(e);\n        return;\n      }\n\n      var activeValue = [].concat(_this.state.activeValue);\n      var currentLevel = activeValue.length - 1 < 0 ? 0 : activeValue.length - 1;\n\n      var currentOptions = _this.getCurrentLevelOptions();\n\n      var currentIndex = currentOptions.map(function (o) {\n        return o.value;\n      }).indexOf(activeValue[currentLevel]);\n\n      if (e.keyCode !== KeyCode.DOWN && e.keyCode !== KeyCode.UP && e.keyCode !== KeyCode.LEFT && e.keyCode !== KeyCode.RIGHT && e.keyCode !== KeyCode.ENTER && e.keyCode !== KeyCode.BACKSPACE && e.keyCode !== KeyCode.ESC) {\n        return;\n      } // Press any keys above to reopen menu\n\n\n      if (!_this.state.popupVisible && e.keyCode !== KeyCode.BACKSPACE && e.keyCode !== KeyCode.LEFT && e.keyCode !== KeyCode.RIGHT && e.keyCode !== KeyCode.ESC) {\n        _this.setPopupVisible(true);\n\n        return;\n      }\n\n      if (e.keyCode === KeyCode.DOWN || e.keyCode === KeyCode.UP) {\n        var nextIndex = currentIndex;\n\n        if (nextIndex !== -1) {\n          if (e.keyCode === KeyCode.DOWN) {\n            nextIndex += 1;\n            nextIndex = nextIndex >= currentOptions.length ? 0 : nextIndex;\n          } else {\n            nextIndex -= 1;\n            nextIndex = nextIndex < 0 ? currentOptions.length - 1 : nextIndex;\n          }\n        } else {\n          nextIndex = 0;\n        }\n\n        activeValue[currentLevel] = currentOptions[nextIndex].value;\n      } else if (e.keyCode === KeyCode.LEFT || e.keyCode === KeyCode.BACKSPACE) {\n        activeValue.splice(activeValue.length - 1, 1);\n      } else if (e.keyCode === KeyCode.RIGHT) {\n        if (currentOptions[currentIndex] && currentOptions[currentIndex].children) {\n          activeValue.push(currentOptions[currentIndex].children[0].value);\n        }\n      } else if (e.keyCode === KeyCode.ESC) {\n        _this.setPopupVisible(false);\n\n        return;\n      }\n\n      if (!activeValue || activeValue.length === 0) {\n        _this.setPopupVisible(false);\n      }\n\n      var activeOptions = _this.getActiveOptions(activeValue);\n\n      var targetOption = activeOptions[activeOptions.length - 1];\n\n      _this.handleMenuSelect(targetOption, activeOptions.length - 1, e);\n\n      if (_this.props.onKeyDown) {\n        _this.props.onKeyDown(e);\n      }\n    };\n\n    _this.saveTrigger = function (node) {\n      _this.trigger = node;\n    };\n\n    var initialValue = [];\n\n    if ('value' in props) {\n      initialValue = props.value || [];\n    } else if ('defaultValue' in props) {\n      initialValue = props.defaultValue || [];\n    }\n\n    _this.state = {\n      popupVisible: props.popupVisible,\n      activeValue: initialValue,\n      value: initialValue\n    };\n    return _this;\n  }\n\n  Cascader.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if ('value' in nextProps && !shallowEqualArrays(this.props.value, nextProps.value)) {\n      var newValues = {\n        value: nextProps.value || [],\n        activeValue: nextProps.value || []\n      }; // allow activeValue diff from value\n      // https://github.com/ant-design/ant-design/issues/2767\n\n      if ('loadData' in nextProps) {\n        delete newValues.activeValue;\n      }\n\n      this.setState(newValues);\n    }\n\n    if ('popupVisible' in nextProps) {\n      this.setState({\n        popupVisible: nextProps.popupVisible\n      });\n    }\n  };\n\n  Cascader.prototype.getPopupDOMNode = function getPopupDOMNode() {\n    return this.trigger.getPopupDomNode();\n  };\n\n  Cascader.prototype.getCurrentLevelOptions = function getCurrentLevelOptions() {\n    var options = this.props.options;\n    var _state$activeValue = this.state.activeValue,\n        activeValue = _state$activeValue === undefined ? [] : _state$activeValue;\n    var result = arrayTreeFilter(options, function (o, level) {\n      return o.value === activeValue[level];\n    });\n\n    if (result[result.length - 2]) {\n      return result[result.length - 2].children;\n    }\n\n    return [].concat(options).filter(function (o) {\n      return !o.disabled;\n    });\n  };\n\n  Cascader.prototype.getActiveOptions = function getActiveOptions(activeValue) {\n    return arrayTreeFilter(this.props.options, function (o, level) {\n      return o.value === activeValue[level];\n    });\n  };\n\n  Cascader.prototype.render = function render() {\n    var _props = this.props,\n        prefixCls = _props.prefixCls,\n        transitionName = _props.transitionName,\n        popupClassName = _props.popupClassName,\n        options = _props.options,\n        disabled = _props.disabled,\n        builtinPlacements = _props.builtinPlacements,\n        popupPlacement = _props.popupPlacement,\n        children = _props.children,\n        restProps = _objectWithoutProperties(_props, ['prefixCls', 'transitionName', 'popupClassName', 'options', 'disabled', 'builtinPlacements', 'popupPlacement', 'children']); // Did not show popup when there is no options\n\n\n    var menus = React.createElement('div', null);\n    var emptyMenuClassName = '';\n\n    if (options && options.length > 0) {\n      menus = React.createElement(Menus, _extends({}, this.props, {\n        value: this.state.value,\n        activeValue: this.state.activeValue,\n        onSelect: this.handleMenuSelect,\n        visible: this.state.popupVisible\n      }));\n    } else {\n      emptyMenuClassName = ' ' + prefixCls + '-menus-empty';\n    }\n\n    return React.createElement(Trigger, _extends({\n      ref: this.saveTrigger\n    }, restProps, {\n      options: options,\n      disabled: disabled,\n      popupPlacement: popupPlacement,\n      builtinPlacements: builtinPlacements,\n      popupTransitionName: transitionName,\n      action: disabled ? [] : ['click'],\n      popupVisible: disabled ? false : this.state.popupVisible,\n      onPopupVisibleChange: this.handlePopupVisibleChange,\n      prefixCls: prefixCls + '-menus',\n      popupClassName: popupClassName + emptyMenuClassName,\n      popup: menus\n    }), cloneElement(children, {\n      onKeyDown: this.handleKeyDown,\n      tabIndex: disabled ? undefined : 0\n    }));\n  };\n\n  return Cascader;\n}(Component);\n\nCascader.defaultProps = {\n  options: [],\n  onChange: function onChange() {},\n  onPopupVisibleChange: function onPopupVisibleChange() {},\n  disabled: false,\n  transitionName: '',\n  prefixCls: 'rc-cascader',\n  popupClassName: '',\n  popupPlacement: 'bottomLeft',\n  builtinPlacements: BUILT_IN_PLACEMENTS,\n  expandTrigger: 'click'\n};\nCascader.propTypes = {\n  value: PropTypes.array,\n  defaultValue: PropTypes.array,\n  options: PropTypes.array.isRequired,\n  onChange: PropTypes.func,\n  onPopupVisibleChange: PropTypes.func,\n  popupVisible: PropTypes.bool,\n  disabled: PropTypes.bool,\n  transitionName: PropTypes.string,\n  popupClassName: PropTypes.string,\n  popupPlacement: PropTypes.string,\n  prefixCls: PropTypes.string,\n  dropdownMenuColumnStyle: PropTypes.object,\n  builtinPlacements: PropTypes.object,\n  loadData: PropTypes.func,\n  changeOnSelect: PropTypes.bool,\n  children: PropTypes.node,\n  onKeyDown: PropTypes.func,\n  expandTrigger: PropTypes.string\n};\nexport default Cascader;","map":{"version":3,"sources":["/Users/administrator/Desktop/DrChain/drchain_frontend/drchain/node_modules/rc-cascader/es/Cascader.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_objectWithoutProperties","obj","keys","indexOf","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","React","Component","cloneElement","PropTypes","Trigger","Menus","KeyCode","arrayTreeFilter","shallowEqualArrays","BUILT_IN_PLACEMENTS","bottomLeft","points","offset","overflow","adjustX","adjustY","topLeft","bottomRight","topRight","Cascader","_Component","props","_this","setPopupVisible","popupVisible","setState","state","visible","activeValue","onPopupVisibleChange","handleChange","options","setProps","e","type","keyCode","ENTER","onChange","map","o","handlePopupVisibleChange","handleMenuSelect","targetOption","menuIndex","triggerNode","trigger","getRootDomNode","focus","_this$props","changeOnSelect","loadData","expandTrigger","disabled","slice","activeOptions","getActiveOptions","isLeaf","children","newState","handleKeyDown","onKeyDown","concat","currentLevel","currentOptions","getCurrentLevelOptions","currentIndex","DOWN","UP","LEFT","RIGHT","BACKSPACE","ESC","nextIndex","splice","push","saveTrigger","node","initialValue","defaultValue","componentWillReceiveProps","nextProps","newValues","getPopupDOMNode","getPopupDomNode","_state$activeValue","undefined","result","level","filter","render","_props","prefixCls","transitionName","popupClassName","builtinPlacements","popupPlacement","restProps","menus","createElement","emptyMenuClassName","onSelect","ref","popupTransitionName","action","popup","tabIndex","defaultProps","propTypes","array","isRequired","func","bool","string","dropdownMenuColumnStyle","object"],"mappings":"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","sourcesContent":["var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport Trigger from 'rc-trigger';\nimport Menus from './Menus';\nimport KeyCode from 'rc-util/es/KeyCode';\nimport arrayTreeFilter from 'array-tree-filter';\nimport shallowEqualArrays from 'shallow-equal/arrays';\n\nvar BUILT_IN_PLACEMENTS = {\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1\n    }\n  },\n  topLeft: {\n    points: ['bl', 'tl'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1\n    }\n  },\n  bottomRight: {\n    points: ['tr', 'br'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1\n    }\n  },\n  topRight: {\n    points: ['br', 'tr'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 1,\n      adjustY: 1\n    }\n  }\n};\n\nvar Cascader = function (_Component) {\n  _inherits(Cascader, _Component);\n\n  function Cascader(props) {\n    _classCallCheck(this, Cascader);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _this.setPopupVisible = function (popupVisible) {\n      if (!('popupVisible' in _this.props)) {\n        _this.setState({ popupVisible: popupVisible });\n      }\n      // sync activeValue with value when panel open\n      if (popupVisible && !_this.state.visible) {\n        _this.setState({\n          activeValue: _this.state.value\n        });\n      }\n      _this.props.onPopupVisibleChange(popupVisible);\n    };\n\n    _this.handleChange = function (options, setProps, e) {\n      if (e.type !== 'keydown' || e.keyCode === KeyCode.ENTER) {\n        _this.props.onChange(options.map(function (o) {\n          return o.value;\n        }), options);\n        _this.setPopupVisible(setProps.visible);\n      }\n    };\n\n    _this.handlePopupVisibleChange = function (popupVisible) {\n      _this.setPopupVisible(popupVisible);\n    };\n\n    _this.handleMenuSelect = function (targetOption, menuIndex, e) {\n      // Keep focused state for keyboard support\n      var triggerNode = _this.trigger.getRootDomNode();\n      if (triggerNode && triggerNode.focus) {\n        triggerNode.focus();\n      }\n      var _this$props = _this.props,\n          changeOnSelect = _this$props.changeOnSelect,\n          loadData = _this$props.loadData,\n          expandTrigger = _this$props.expandTrigger;\n\n      if (!targetOption || targetOption.disabled) {\n        return;\n      }\n      var activeValue = _this.state.activeValue;\n\n      activeValue = activeValue.slice(0, menuIndex + 1);\n      activeValue[menuIndex] = targetOption.value;\n      var activeOptions = _this.getActiveOptions(activeValue);\n      if (targetOption.isLeaf === false && !targetOption.children && loadData) {\n        if (changeOnSelect) {\n          _this.handleChange(activeOptions, { visible: true }, e);\n        }\n        _this.setState({ activeValue: activeValue });\n        loadData(activeOptions);\n        return;\n      }\n      var newState = {};\n      if (!targetOption.children || !targetOption.children.length) {\n        _this.handleChange(activeOptions, { visible: false }, e);\n        // set value to activeValue when select leaf option\n        newState.value = activeValue;\n        // add e.type judgement to prevent `onChange` being triggered by mouseEnter\n      } else if (changeOnSelect && (e.type === 'click' || e.type === 'keydown')) {\n        if (expandTrigger === 'hover') {\n          _this.handleChange(activeOptions, { visible: false }, e);\n        } else {\n          _this.handleChange(activeOptions, { visible: true }, e);\n        }\n        // set value to activeValue on every select\n        newState.value = activeValue;\n      }\n      newState.activeValue = activeValue;\n      //  not change the value by keyboard\n      if ('value' in _this.props || e.type === 'keydown' && e.keyCode !== KeyCode.ENTER) {\n        delete newState.value;\n      }\n      _this.setState(newState);\n    };\n\n    _this.handleKeyDown = function (e) {\n      var children = _this.props.children;\n      // https://github.com/ant-design/ant-design/issues/6717\n      // Don't bind keyboard support when children specify the onKeyDown\n\n      if (children && children.props.onKeyDown) {\n        children.props.onKeyDown(e);\n        return;\n      }\n      var activeValue = [].concat(_this.state.activeValue);\n      var currentLevel = activeValue.length - 1 < 0 ? 0 : activeValue.length - 1;\n      var currentOptions = _this.getCurrentLevelOptions();\n      var currentIndex = currentOptions.map(function (o) {\n        return o.value;\n      }).indexOf(activeValue[currentLevel]);\n      if (e.keyCode !== KeyCode.DOWN && e.keyCode !== KeyCode.UP && e.keyCode !== KeyCode.LEFT && e.keyCode !== KeyCode.RIGHT && e.keyCode !== KeyCode.ENTER && e.keyCode !== KeyCode.BACKSPACE && e.keyCode !== KeyCode.ESC) {\n        return;\n      }\n      // Press any keys above to reopen menu\n      if (!_this.state.popupVisible && e.keyCode !== KeyCode.BACKSPACE && e.keyCode !== KeyCode.LEFT && e.keyCode !== KeyCode.RIGHT && e.keyCode !== KeyCode.ESC) {\n        _this.setPopupVisible(true);\n        return;\n      }\n      if (e.keyCode === KeyCode.DOWN || e.keyCode === KeyCode.UP) {\n        var nextIndex = currentIndex;\n        if (nextIndex !== -1) {\n          if (e.keyCode === KeyCode.DOWN) {\n            nextIndex += 1;\n            nextIndex = nextIndex >= currentOptions.length ? 0 : nextIndex;\n          } else {\n            nextIndex -= 1;\n            nextIndex = nextIndex < 0 ? currentOptions.length - 1 : nextIndex;\n          }\n        } else {\n          nextIndex = 0;\n        }\n        activeValue[currentLevel] = currentOptions[nextIndex].value;\n      } else if (e.keyCode === KeyCode.LEFT || e.keyCode === KeyCode.BACKSPACE) {\n        activeValue.splice(activeValue.length - 1, 1);\n      } else if (e.keyCode === KeyCode.RIGHT) {\n        if (currentOptions[currentIndex] && currentOptions[currentIndex].children) {\n          activeValue.push(currentOptions[currentIndex].children[0].value);\n        }\n      } else if (e.keyCode === KeyCode.ESC) {\n        _this.setPopupVisible(false);\n        return;\n      }\n      if (!activeValue || activeValue.length === 0) {\n        _this.setPopupVisible(false);\n      }\n      var activeOptions = _this.getActiveOptions(activeValue);\n      var targetOption = activeOptions[activeOptions.length - 1];\n      _this.handleMenuSelect(targetOption, activeOptions.length - 1, e);\n\n      if (_this.props.onKeyDown) {\n        _this.props.onKeyDown(e);\n      }\n    };\n\n    _this.saveTrigger = function (node) {\n      _this.trigger = node;\n    };\n\n    var initialValue = [];\n    if ('value' in props) {\n      initialValue = props.value || [];\n    } else if ('defaultValue' in props) {\n      initialValue = props.defaultValue || [];\n    }\n\n    _this.state = {\n      popupVisible: props.popupVisible,\n      activeValue: initialValue,\n      value: initialValue\n    };\n    return _this;\n  }\n\n  Cascader.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if ('value' in nextProps && !shallowEqualArrays(this.props.value, nextProps.value)) {\n      var newValues = {\n        value: nextProps.value || [],\n        activeValue: nextProps.value || []\n      };\n      // allow activeValue diff from value\n      // https://github.com/ant-design/ant-design/issues/2767\n      if ('loadData' in nextProps) {\n        delete newValues.activeValue;\n      }\n      this.setState(newValues);\n    }\n    if ('popupVisible' in nextProps) {\n      this.setState({\n        popupVisible: nextProps.popupVisible\n      });\n    }\n  };\n\n  Cascader.prototype.getPopupDOMNode = function getPopupDOMNode() {\n    return this.trigger.getPopupDomNode();\n  };\n\n  Cascader.prototype.getCurrentLevelOptions = function getCurrentLevelOptions() {\n    var options = this.props.options;\n    var _state$activeValue = this.state.activeValue,\n        activeValue = _state$activeValue === undefined ? [] : _state$activeValue;\n\n    var result = arrayTreeFilter(options, function (o, level) {\n      return o.value === activeValue[level];\n    });\n    if (result[result.length - 2]) {\n      return result[result.length - 2].children;\n    }\n    return [].concat(options).filter(function (o) {\n      return !o.disabled;\n    });\n  };\n\n  Cascader.prototype.getActiveOptions = function getActiveOptions(activeValue) {\n    return arrayTreeFilter(this.props.options, function (o, level) {\n      return o.value === activeValue[level];\n    });\n  };\n\n  Cascader.prototype.render = function render() {\n    var _props = this.props,\n        prefixCls = _props.prefixCls,\n        transitionName = _props.transitionName,\n        popupClassName = _props.popupClassName,\n        options = _props.options,\n        disabled = _props.disabled,\n        builtinPlacements = _props.builtinPlacements,\n        popupPlacement = _props.popupPlacement,\n        children = _props.children,\n        restProps = _objectWithoutProperties(_props, ['prefixCls', 'transitionName', 'popupClassName', 'options', 'disabled', 'builtinPlacements', 'popupPlacement', 'children']);\n    // Did not show popup when there is no options\n\n\n    var menus = React.createElement('div', null);\n    var emptyMenuClassName = '';\n    if (options && options.length > 0) {\n      menus = React.createElement(Menus, _extends({}, this.props, {\n        value: this.state.value,\n        activeValue: this.state.activeValue,\n        onSelect: this.handleMenuSelect,\n        visible: this.state.popupVisible\n      }));\n    } else {\n      emptyMenuClassName = ' ' + prefixCls + '-menus-empty';\n    }\n    return React.createElement(\n      Trigger,\n      _extends({\n        ref: this.saveTrigger\n      }, restProps, {\n        options: options,\n        disabled: disabled,\n        popupPlacement: popupPlacement,\n        builtinPlacements: builtinPlacements,\n        popupTransitionName: transitionName,\n        action: disabled ? [] : ['click'],\n        popupVisible: disabled ? false : this.state.popupVisible,\n        onPopupVisibleChange: this.handlePopupVisibleChange,\n        prefixCls: prefixCls + '-menus',\n        popupClassName: popupClassName + emptyMenuClassName,\n        popup: menus\n      }),\n      cloneElement(children, {\n        onKeyDown: this.handleKeyDown,\n        tabIndex: disabled ? undefined : 0\n      })\n    );\n  };\n\n  return Cascader;\n}(Component);\n\nCascader.defaultProps = {\n  options: [],\n  onChange: function onChange() {},\n  onPopupVisibleChange: function onPopupVisibleChange() {},\n\n  disabled: false,\n  transitionName: '',\n  prefixCls: 'rc-cascader',\n  popupClassName: '',\n  popupPlacement: 'bottomLeft',\n  builtinPlacements: BUILT_IN_PLACEMENTS,\n  expandTrigger: 'click'\n};\n\nCascader.propTypes = {\n  value: PropTypes.array,\n  defaultValue: PropTypes.array,\n  options: PropTypes.array.isRequired,\n  onChange: PropTypes.func,\n  onPopupVisibleChange: PropTypes.func,\n  popupVisible: PropTypes.bool,\n  disabled: PropTypes.bool,\n  transitionName: PropTypes.string,\n  popupClassName: PropTypes.string,\n  popupPlacement: PropTypes.string,\n  prefixCls: PropTypes.string,\n  dropdownMenuColumnStyle: PropTypes.object,\n  builtinPlacements: PropTypes.object,\n  loadData: PropTypes.func,\n  changeOnSelect: PropTypes.bool,\n  children: PropTypes.node,\n  onKeyDown: PropTypes.func,\n  expandTrigger: PropTypes.string\n};\n\nexport default Cascader;"]},"metadata":{},"sourceType":"module"}