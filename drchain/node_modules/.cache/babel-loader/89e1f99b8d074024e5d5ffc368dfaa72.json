{"ast":null,"code":"import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport * as React from 'react';\nimport Animate from 'rc-animate';\nimport Icon from '../icon';\nimport Tooltip from '../tooltip';\nimport Progress from '../progress';\nimport classNames from 'classnames'; // https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL\n\nvar previewFile = function previewFile(file, callback) {\n  var reader = new FileReader();\n\n  reader.onloadend = function () {\n    return callback(reader.result);\n  };\n\n  reader.readAsDataURL(file);\n};\n\nvar extname = function extname(url) {\n  if (!url) {\n    return '';\n  }\n\n  var temp = url.split('/');\n  var filename = temp[temp.length - 1];\n  var filenameWithoutSuffix = filename.split(/\\#|\\?/)[0];\n  return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n};\n\nvar isImageUrl = function isImageUrl(url) {\n  var extension = extname(url);\n\n  if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|bmp)$/.test(extension)) {\n    return true;\n  } else if (/^data:/.test(url)) {\n    // other file types of base64\n    return false;\n  } else if (extension) {\n    // other file types which have extension\n    return false;\n  }\n\n  return true;\n};\n\nvar UploadList = function (_React$Component) {\n  _inherits(UploadList, _React$Component);\n\n  function UploadList() {\n    _classCallCheck(this, UploadList);\n\n    var _this = _possibleConstructorReturn(this, (UploadList.__proto__ || Object.getPrototypeOf(UploadList)).apply(this, arguments));\n\n    _this.handleClose = function (file) {\n      var onRemove = _this.props.onRemove;\n\n      if (onRemove) {\n        onRemove(file);\n      }\n    };\n\n    _this.handlePreview = function (file, e) {\n      var onPreview = _this.props.onPreview;\n\n      if (!onPreview) {\n        return;\n      }\n\n      e.preventDefault();\n      return onPreview(file);\n    };\n\n    return _this;\n  }\n\n  _createClass(UploadList, [{\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      var _this2 = this;\n\n      if (this.props.listType !== 'picture' && this.props.listType !== 'picture-card') {\n        return;\n      }\n\n      (this.props.items || []).forEach(function (file) {\n        if (typeof document === 'undefined' || typeof window === 'undefined' || !window.FileReader || !window.File || !(file.originFileObj instanceof File) || file.thumbUrl !== undefined) {\n          return;\n        }\n        /*eslint-disable */\n\n\n        file.thumbUrl = '';\n        /*eslint-enable */\n\n        previewFile(file.originFileObj, function (previewDataUrl) {\n          /*eslint-disable */\n          file.thumbUrl = previewDataUrl;\n          /*eslint-enable */\n\n          _this2.forceUpdate();\n        });\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this,\n          _classNames2;\n\n      var _props = this.props,\n          prefixCls = _props.prefixCls,\n          _props$items = _props.items,\n          items = _props$items === undefined ? [] : _props$items,\n          listType = _props.listType,\n          showPreviewIcon = _props.showPreviewIcon,\n          showRemoveIcon = _props.showRemoveIcon,\n          locale = _props.locale;\n      var list = items.map(function (file) {\n        var _classNames;\n\n        var progress = void 0;\n        var icon = React.createElement(Icon, {\n          type: file.status === 'uploading' ? 'loading' : 'paper-clip'\n        });\n\n        if (listType === 'picture' || listType === 'picture-card') {\n          if (listType === 'picture-card' && file.status === 'uploading') {\n            icon = React.createElement('div', {\n              className: prefixCls + '-list-item-uploading-text'\n            }, locale.uploading);\n          } else if (!file.thumbUrl && !file.url) {\n            icon = React.createElement(Icon, {\n              className: prefixCls + '-list-item-thumbnail',\n              type: 'picture'\n            });\n          } else {\n            var thumbnail = isImageUrl(file.thumbUrl || file.url) ? React.createElement('img', {\n              src: file.thumbUrl || file.url,\n              alt: file.name\n            }) : React.createElement(Icon, {\n              type: 'file',\n              className: prefixCls + '-list-item-icon'\n            });\n            icon = React.createElement('a', {\n              className: prefixCls + '-list-item-thumbnail',\n              onClick: function onClick(e) {\n                return _this3.handlePreview(file, e);\n              },\n              href: file.url || file.thumbUrl,\n              target: '_blank',\n              rel: 'noopener noreferrer'\n            }, thumbnail);\n          }\n        }\n\n        if (file.status === 'uploading') {\n          // show loading icon if upload progress listener is disabled\n          var loadingProgress = 'percent' in file ? React.createElement(Progress, _extends({\n            type: 'line'\n          }, _this3.props.progressAttr, {\n            percent: file.percent\n          })) : null;\n          progress = React.createElement('div', {\n            className: prefixCls + '-list-item-progress',\n            key: 'progress'\n          }, loadingProgress);\n        }\n\n        var infoUploadingClass = classNames((_classNames = {}, _defineProperty(_classNames, prefixCls + '-list-item', true), _defineProperty(_classNames, prefixCls + '-list-item-' + file.status, true), _classNames));\n        var preview = file.url ? React.createElement('a', _extends({}, file.linkProps, {\n          href: file.url,\n          target: '_blank',\n          rel: 'noopener noreferrer',\n          className: prefixCls + '-list-item-name',\n          onClick: function onClick(e) {\n            return _this3.handlePreview(file, e);\n          },\n          title: file.name\n        }), file.name) : React.createElement('span', {\n          className: prefixCls + '-list-item-name',\n          onClick: function onClick(e) {\n            return _this3.handlePreview(file, e);\n          },\n          title: file.name\n        }, file.name);\n        var style = {\n          pointerEvents: 'none',\n          opacity: 0.5\n        };\n        var previewIcon = showPreviewIcon ? React.createElement('a', {\n          href: file.url || file.thumbUrl,\n          target: '_blank',\n          rel: 'noopener noreferrer',\n          style: file.url || file.thumbUrl ? undefined : style,\n          onClick: function onClick(e) {\n            return _this3.handlePreview(file, e);\n          },\n          title: locale.previewFile\n        }, React.createElement(Icon, {\n          type: 'eye-o'\n        })) : null;\n        var removeIcon = showRemoveIcon ? React.createElement(Icon, {\n          type: 'delete',\n          title: locale.removeFile,\n          onClick: function onClick() {\n            return _this3.handleClose(file);\n          }\n        }) : null;\n        var removeIconCross = showRemoveIcon ? React.createElement(Icon, {\n          type: 'cross',\n          title: locale.removeFile,\n          onClick: function onClick() {\n            return _this3.handleClose(file);\n          }\n        }) : null;\n        var actions = listType === 'picture-card' && file.status !== 'uploading' ? React.createElement('span', {\n          className: prefixCls + '-list-item-actions'\n        }, previewIcon, removeIcon) : removeIconCross;\n        var message = void 0;\n\n        if (file.response && typeof file.response === 'string') {\n          message = file.response;\n        } else {\n          message = file.error && file.error.statusText || locale.uploadError;\n        }\n\n        var iconAndPreview = file.status === 'error' ? React.createElement(Tooltip, {\n          title: message\n        }, icon, preview) : React.createElement('span', null, icon, preview);\n        return React.createElement('div', {\n          className: infoUploadingClass,\n          key: file.uid\n        }, React.createElement('div', {\n          className: prefixCls + '-list-item-info'\n        }, iconAndPreview), actions, React.createElement(Animate, {\n          transitionName: 'fade',\n          component: ''\n        }, progress));\n      });\n      var listClassNames = classNames((_classNames2 = {}, _defineProperty(_classNames2, prefixCls + '-list', true), _defineProperty(_classNames2, prefixCls + '-list-' + listType, true), _classNames2));\n      var animationDirection = listType === 'picture-card' ? 'animate-inline' : 'animate';\n      return React.createElement(Animate, {\n        transitionName: prefixCls + '-' + animationDirection,\n        component: 'div',\n        className: listClassNames\n      }, list);\n    }\n  }]);\n\n  return UploadList;\n}(React.Component);\n\nexport default UploadList;\nUploadList.defaultProps = {\n  listType: 'text',\n  progressAttr: {\n    strokeWidth: 2,\n    showInfo: false\n  },\n  prefixCls: 'ant-upload',\n  showRemoveIcon: true,\n  showPreviewIcon: true\n};","map":{"version":3,"sources":["/Users/administrator/Desktop/DrChain/drchain_frontend/drchain/node_modules/antd/es/upload/UploadList.js"],"names":["_defineProperty","_extends","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","Animate","Icon","Tooltip","Progress","classNames","previewFile","file","callback","reader","FileReader","onloadend","result","readAsDataURL","extname","url","temp","split","filename","length","filenameWithoutSuffix","exec","isImageUrl","extension","test","UploadList","_React$Component","_this","__proto__","Object","getPrototypeOf","apply","arguments","handleClose","onRemove","props","handlePreview","e","onPreview","preventDefault","key","value","componentDidUpdate","_this2","listType","items","forEach","document","window","File","originFileObj","thumbUrl","undefined","previewDataUrl","forceUpdate","render","_this3","_classNames2","_props","prefixCls","_props$items","showPreviewIcon","showRemoveIcon","locale","list","map","_classNames","progress","icon","createElement","type","status","className","uploading","thumbnail","src","alt","name","onClick","href","target","rel","loadingProgress","progressAttr","percent","infoUploadingClass","preview","linkProps","title","style","pointerEvents","opacity","previewIcon","removeIcon","removeFile","removeIconCross","actions","message","response","error","statusText","uploadError","iconAndPreview","uid","transitionName","component","listClassNames","animationDirection","Component","defaultProps","strokeWidth","showInfo"],"mappings":"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","sourcesContent":["import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport * as React from 'react';\nimport Animate from 'rc-animate';\nimport Icon from '../icon';\nimport Tooltip from '../tooltip';\nimport Progress from '../progress';\nimport classNames from 'classnames';\n// https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL\nvar previewFile = function previewFile(file, callback) {\n    var reader = new FileReader();\n    reader.onloadend = function () {\n        return callback(reader.result);\n    };\n    reader.readAsDataURL(file);\n};\nvar extname = function extname(url) {\n    if (!url) {\n        return '';\n    }\n    var temp = url.split('/');\n    var filename = temp[temp.length - 1];\n    var filenameWithoutSuffix = filename.split(/\\#|\\?/)[0];\n    return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n};\nvar isImageUrl = function isImageUrl(url) {\n    var extension = extname(url);\n    if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|bmp)$/.test(extension)) {\n        return true;\n    } else if (/^data:/.test(url)) {\n        // other file types of base64\n        return false;\n    } else if (extension) {\n        // other file types which have extension\n        return false;\n    }\n    return true;\n};\n\nvar UploadList = function (_React$Component) {\n    _inherits(UploadList, _React$Component);\n\n    function UploadList() {\n        _classCallCheck(this, UploadList);\n\n        var _this = _possibleConstructorReturn(this, (UploadList.__proto__ || Object.getPrototypeOf(UploadList)).apply(this, arguments));\n\n        _this.handleClose = function (file) {\n            var onRemove = _this.props.onRemove;\n\n            if (onRemove) {\n                onRemove(file);\n            }\n        };\n        _this.handlePreview = function (file, e) {\n            var onPreview = _this.props.onPreview;\n\n            if (!onPreview) {\n                return;\n            }\n            e.preventDefault();\n            return onPreview(file);\n        };\n        return _this;\n    }\n\n    _createClass(UploadList, [{\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            var _this2 = this;\n\n            if (this.props.listType !== 'picture' && this.props.listType !== 'picture-card') {\n                return;\n            }\n            (this.props.items || []).forEach(function (file) {\n                if (typeof document === 'undefined' || typeof window === 'undefined' || !window.FileReader || !window.File || !(file.originFileObj instanceof File) || file.thumbUrl !== undefined) {\n                    return;\n                }\n                /*eslint-disable */\n                file.thumbUrl = '';\n                /*eslint-enable */\n                previewFile(file.originFileObj, function (previewDataUrl) {\n                    /*eslint-disable */\n                    file.thumbUrl = previewDataUrl;\n                    /*eslint-enable */\n                    _this2.forceUpdate();\n                });\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this3 = this,\n                _classNames2;\n\n            var _props = this.props,\n                prefixCls = _props.prefixCls,\n                _props$items = _props.items,\n                items = _props$items === undefined ? [] : _props$items,\n                listType = _props.listType,\n                showPreviewIcon = _props.showPreviewIcon,\n                showRemoveIcon = _props.showRemoveIcon,\n                locale = _props.locale;\n\n            var list = items.map(function (file) {\n                var _classNames;\n\n                var progress = void 0;\n                var icon = React.createElement(Icon, { type: file.status === 'uploading' ? 'loading' : 'paper-clip' });\n                if (listType === 'picture' || listType === 'picture-card') {\n                    if (listType === 'picture-card' && file.status === 'uploading') {\n                        icon = React.createElement(\n                            'div',\n                            { className: prefixCls + '-list-item-uploading-text' },\n                            locale.uploading\n                        );\n                    } else if (!file.thumbUrl && !file.url) {\n                        icon = React.createElement(Icon, { className: prefixCls + '-list-item-thumbnail', type: 'picture' });\n                    } else {\n                        var thumbnail = isImageUrl(file.thumbUrl || file.url) ? React.createElement('img', { src: file.thumbUrl || file.url, alt: file.name }) : React.createElement(Icon, { type: 'file', className: prefixCls + '-list-item-icon' });\n                        icon = React.createElement(\n                            'a',\n                            { className: prefixCls + '-list-item-thumbnail', onClick: function onClick(e) {\n                                    return _this3.handlePreview(file, e);\n                                }, href: file.url || file.thumbUrl, target: '_blank', rel: 'noopener noreferrer' },\n                            thumbnail\n                        );\n                    }\n                }\n                if (file.status === 'uploading') {\n                    // show loading icon if upload progress listener is disabled\n                    var loadingProgress = 'percent' in file ? React.createElement(Progress, _extends({ type: 'line' }, _this3.props.progressAttr, { percent: file.percent })) : null;\n                    progress = React.createElement(\n                        'div',\n                        { className: prefixCls + '-list-item-progress', key: 'progress' },\n                        loadingProgress\n                    );\n                }\n                var infoUploadingClass = classNames((_classNames = {}, _defineProperty(_classNames, prefixCls + '-list-item', true), _defineProperty(_classNames, prefixCls + '-list-item-' + file.status, true), _classNames));\n                var preview = file.url ? React.createElement(\n                    'a',\n                    _extends({}, file.linkProps, { href: file.url, target: '_blank', rel: 'noopener noreferrer', className: prefixCls + '-list-item-name', onClick: function onClick(e) {\n                            return _this3.handlePreview(file, e);\n                        }, title: file.name }),\n                    file.name\n                ) : React.createElement(\n                    'span',\n                    { className: prefixCls + '-list-item-name', onClick: function onClick(e) {\n                            return _this3.handlePreview(file, e);\n                        }, title: file.name },\n                    file.name\n                );\n                var style = {\n                    pointerEvents: 'none',\n                    opacity: 0.5\n                };\n                var previewIcon = showPreviewIcon ? React.createElement(\n                    'a',\n                    { href: file.url || file.thumbUrl, target: '_blank', rel: 'noopener noreferrer', style: file.url || file.thumbUrl ? undefined : style, onClick: function onClick(e) {\n                            return _this3.handlePreview(file, e);\n                        }, title: locale.previewFile },\n                    React.createElement(Icon, { type: 'eye-o' })\n                ) : null;\n                var removeIcon = showRemoveIcon ? React.createElement(Icon, { type: 'delete', title: locale.removeFile, onClick: function onClick() {\n                        return _this3.handleClose(file);\n                    } }) : null;\n                var removeIconCross = showRemoveIcon ? React.createElement(Icon, { type: 'cross', title: locale.removeFile, onClick: function onClick() {\n                        return _this3.handleClose(file);\n                    } }) : null;\n                var actions = listType === 'picture-card' && file.status !== 'uploading' ? React.createElement(\n                    'span',\n                    { className: prefixCls + '-list-item-actions' },\n                    previewIcon,\n                    removeIcon\n                ) : removeIconCross;\n                var message = void 0;\n                if (file.response && typeof file.response === 'string') {\n                    message = file.response;\n                } else {\n                    message = file.error && file.error.statusText || locale.uploadError;\n                }\n                var iconAndPreview = file.status === 'error' ? React.createElement(\n                    Tooltip,\n                    { title: message },\n                    icon,\n                    preview\n                ) : React.createElement(\n                    'span',\n                    null,\n                    icon,\n                    preview\n                );\n                return React.createElement(\n                    'div',\n                    { className: infoUploadingClass, key: file.uid },\n                    React.createElement(\n                        'div',\n                        { className: prefixCls + '-list-item-info' },\n                        iconAndPreview\n                    ),\n                    actions,\n                    React.createElement(\n                        Animate,\n                        { transitionName: 'fade', component: '' },\n                        progress\n                    )\n                );\n            });\n            var listClassNames = classNames((_classNames2 = {}, _defineProperty(_classNames2, prefixCls + '-list', true), _defineProperty(_classNames2, prefixCls + '-list-' + listType, true), _classNames2));\n            var animationDirection = listType === 'picture-card' ? 'animate-inline' : 'animate';\n            return React.createElement(\n                Animate,\n                { transitionName: prefixCls + '-' + animationDirection, component: 'div', className: listClassNames },\n                list\n            );\n        }\n    }]);\n\n    return UploadList;\n}(React.Component);\n\nexport default UploadList;\n\nUploadList.defaultProps = {\n    listType: 'text',\n    progressAttr: {\n        strokeWidth: 2,\n        showInfo: false\n    },\n    prefixCls: 'ant-upload',\n    showRemoveIcon: true,\n    showPreviewIcon: true\n};"]},"metadata":{},"sourceType":"module"}