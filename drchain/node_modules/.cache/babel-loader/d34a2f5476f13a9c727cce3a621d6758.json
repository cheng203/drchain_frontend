{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport Icon from '../icon';\nvar rxTwoCNChar = /^[\\u4e00-\\u9fa5]{2}$/;\nvar isTwoCNChar = rxTwoCNChar.test.bind(rxTwoCNChar);\n\nfunction isString(str) {\n  return typeof str === 'string';\n} // Insert one space between two chinese characters automatically.\n\n\nfunction insertSpace(child, needInserted) {\n  // Check the child if is undefined or null.\n  if (child == null) {\n    return;\n  }\n\n  var SPACE = needInserted ? ' ' : ''; // strictNullChecks oops.\n\n  if (typeof child !== 'string' && typeof child !== 'number' && isString(child.type) && isTwoCNChar(child.props.children)) {\n    return React.cloneElement(child, {}, child.props.children.split('').join(SPACE));\n  }\n\n  if (typeof child === 'string') {\n    if (isTwoCNChar(child)) {\n      child = child.split('').join(SPACE);\n    }\n\n    return React.createElement('span', null, child);\n  }\n\n  return child;\n}\n\nvar Button = function (_React$Component) {\n  _inherits(Button, _React$Component);\n\n  function Button(props) {\n    _classCallCheck(this, Button);\n\n    var _this = _possibleConstructorReturn(this, (Button.__proto__ || Object.getPrototypeOf(Button)).call(this, props));\n\n    _this.handleClick = function (e) {\n      // Add click effect\n      _this.setState({\n        clicked: true\n      });\n\n      clearTimeout(_this.timeout);\n      _this.timeout = window.setTimeout(function () {\n        return _this.setState({\n          clicked: false\n        });\n      }, 500);\n      var onClick = _this.props.onClick;\n\n      if (onClick) {\n        onClick(e);\n      }\n    };\n\n    _this.state = {\n      loading: props.loading,\n      clicked: false,\n      hasTwoCNChar: false\n    };\n    return _this;\n  }\n\n  _createClass(Button, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.fixTwoCNChar();\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      var currentLoading = this.props.loading;\n      var loading = nextProps.loading;\n\n      if (currentLoading) {\n        clearTimeout(this.delayTimeout);\n      }\n\n      if (typeof loading !== 'boolean' && loading && loading.delay) {\n        this.delayTimeout = window.setTimeout(function () {\n          return _this2.setState({\n            loading: loading\n          });\n        }, loading.delay);\n      } else {\n        this.setState({\n          loading: loading\n        });\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.fixTwoCNChar();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.timeout) {\n        clearTimeout(this.timeout);\n      }\n\n      if (this.delayTimeout) {\n        clearTimeout(this.delayTimeout);\n      }\n    }\n  }, {\n    key: 'fixTwoCNChar',\n    value: function fixTwoCNChar() {\n      // Fix for HOC usage like <FormatMessage />\n      var node = findDOMNode(this);\n      var buttonText = node.textContent || node.innerText;\n\n      if (this.isNeedInserted() && isTwoCNChar(buttonText)) {\n        if (!this.state.hasTwoCNChar) {\n          this.setState({\n            hasTwoCNChar: true\n          });\n        }\n      } else if (this.state.hasTwoCNChar) {\n        this.setState({\n          hasTwoCNChar: false\n        });\n      }\n    }\n  }, {\n    key: 'isNeedInserted',\n    value: function isNeedInserted() {\n      var _props = this.props,\n          loading = _props.loading,\n          icon = _props.icon,\n          children = _props.children;\n      var iconType = loading ? 'loading' : icon;\n      return React.Children.count(children) === 1 && (!iconType || iconType === 'loading');\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classNames,\n          _this3 = this;\n\n      var _a = this.props,\n          type = _a.type,\n          shape = _a.shape,\n          size = _a.size,\n          className = _a.className,\n          htmlType = _a.htmlType,\n          children = _a.children,\n          icon = _a.icon,\n          prefixCls = _a.prefixCls,\n          ghost = _a.ghost,\n          others = __rest(_a, [\"type\", \"shape\", \"size\", \"className\", \"htmlType\", \"children\", \"icon\", \"prefixCls\", \"ghost\"]);\n\n      var _state = this.state,\n          loading = _state.loading,\n          clicked = _state.clicked,\n          hasTwoCNChar = _state.hasTwoCNChar; // large => lg\n      // small => sm\n\n      var sizeCls = '';\n\n      switch (size) {\n        case 'large':\n          sizeCls = 'lg';\n          break;\n\n        case 'small':\n          sizeCls = 'sm';\n\n        default:\n          break;\n      }\n\n      var ComponentProp = others.href ? 'a' : 'button';\n      var classes = classNames(prefixCls, className, (_classNames = {}, _defineProperty(_classNames, prefixCls + '-' + type, type), _defineProperty(_classNames, prefixCls + '-' + shape, shape), _defineProperty(_classNames, prefixCls + '-' + sizeCls, sizeCls), _defineProperty(_classNames, prefixCls + '-icon-only', !children && icon), _defineProperty(_classNames, prefixCls + '-loading', loading), _defineProperty(_classNames, prefixCls + '-clicked', clicked), _defineProperty(_classNames, prefixCls + '-background-ghost', ghost), _defineProperty(_classNames, prefixCls + '-two-chinese-chars', hasTwoCNChar), _classNames));\n      var iconType = loading ? 'loading' : icon;\n      var iconNode = iconType ? React.createElement(Icon, {\n        type: iconType\n      }) : null;\n      var kids = children || children === 0 ? React.Children.map(children, function (child) {\n        return insertSpace(child, _this3.isNeedInserted());\n      }) : null;\n      return React.createElement(ComponentProp, _extends({}, omit(others, ['loading']), {\n        type: others.href ? undefined : htmlType || 'button',\n        className: classes,\n        onClick: this.handleClick\n      }), iconNode, kids);\n    }\n  }]);\n\n  return Button;\n}(React.Component);\n\nexport default Button;\nButton.__ANT_BUTTON = true;\nButton.defaultProps = {\n  prefixCls: 'ant-btn',\n  loading: false,\n  ghost: false\n};\nButton.propTypes = {\n  type: PropTypes.string,\n  shape: PropTypes.oneOf(['circle', 'circle-outline']),\n  size: PropTypes.oneOf(['large', 'default', 'small']),\n  htmlType: PropTypes.oneOf(['submit', 'button', 'reset']),\n  onClick: PropTypes.func,\n  loading: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  className: PropTypes.string,\n  icon: PropTypes.string\n};","map":{"version":3,"sources":["/Users/administrator/Desktop/DrChain/drchain_frontend/drchain/node_modules/antd/es/button/button.js"],"names":["_extends","_defineProperty","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","React","findDOMNode","PropTypes","classNames","omit","Icon","rxTwoCNChar","isTwoCNChar","test","bind","isString","str","insertSpace","child","needInserted","SPACE","type","props","children","cloneElement","split","join","createElement","Button","_React$Component","_this","__proto__","getPrototypeOf","handleClick","setState","clicked","clearTimeout","timeout","window","setTimeout","onClick","state","loading","hasTwoCNChar","key","value","componentDidMount","fixTwoCNChar","componentWillReceiveProps","nextProps","_this2","currentLoading","delayTimeout","delay","componentDidUpdate","componentWillUnmount","node","buttonText","textContent","innerText","isNeedInserted","_props","icon","iconType","Children","count","render","_classNames","_this3","_a","shape","size","className","htmlType","prefixCls","ghost","others","_state","sizeCls","ComponentProp","href","classes","iconNode","kids","map","undefined","Component","__ANT_BUTTON","defaultProps","propTypes","string","oneOf","func","oneOfType","bool","object"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nvar __rest = this && this.__rest || function (s, e) {\n    var t = {};\n    for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    }if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n    }return t;\n};\nimport * as React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport Icon from '../icon';\nvar rxTwoCNChar = /^[\\u4e00-\\u9fa5]{2}$/;\nvar isTwoCNChar = rxTwoCNChar.test.bind(rxTwoCNChar);\nfunction isString(str) {\n    return typeof str === 'string';\n}\n// Insert one space between two chinese characters automatically.\nfunction insertSpace(child, needInserted) {\n    // Check the child if is undefined or null.\n    if (child == null) {\n        return;\n    }\n    var SPACE = needInserted ? ' ' : '';\n    // strictNullChecks oops.\n    if (typeof child !== 'string' && typeof child !== 'number' && isString(child.type) && isTwoCNChar(child.props.children)) {\n        return React.cloneElement(child, {}, child.props.children.split('').join(SPACE));\n    }\n    if (typeof child === 'string') {\n        if (isTwoCNChar(child)) {\n            child = child.split('').join(SPACE);\n        }\n        return React.createElement(\n            'span',\n            null,\n            child\n        );\n    }\n    return child;\n}\n\nvar Button = function (_React$Component) {\n    _inherits(Button, _React$Component);\n\n    function Button(props) {\n        _classCallCheck(this, Button);\n\n        var _this = _possibleConstructorReturn(this, (Button.__proto__ || Object.getPrototypeOf(Button)).call(this, props));\n\n        _this.handleClick = function (e) {\n            // Add click effect\n            _this.setState({ clicked: true });\n            clearTimeout(_this.timeout);\n            _this.timeout = window.setTimeout(function () {\n                return _this.setState({ clicked: false });\n            }, 500);\n            var onClick = _this.props.onClick;\n            if (onClick) {\n                onClick(e);\n            }\n        };\n        _this.state = {\n            loading: props.loading,\n            clicked: false,\n            hasTwoCNChar: false\n        };\n        return _this;\n    }\n\n    _createClass(Button, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.fixTwoCNChar();\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            var _this2 = this;\n\n            var currentLoading = this.props.loading;\n            var loading = nextProps.loading;\n            if (currentLoading) {\n                clearTimeout(this.delayTimeout);\n            }\n            if (typeof loading !== 'boolean' && loading && loading.delay) {\n                this.delayTimeout = window.setTimeout(function () {\n                    return _this2.setState({ loading: loading });\n                }, loading.delay);\n            } else {\n                this.setState({ loading: loading });\n            }\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            this.fixTwoCNChar();\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            if (this.timeout) {\n                clearTimeout(this.timeout);\n            }\n            if (this.delayTimeout) {\n                clearTimeout(this.delayTimeout);\n            }\n        }\n    }, {\n        key: 'fixTwoCNChar',\n        value: function fixTwoCNChar() {\n            // Fix for HOC usage like <FormatMessage />\n            var node = findDOMNode(this);\n            var buttonText = node.textContent || node.innerText;\n            if (this.isNeedInserted() && isTwoCNChar(buttonText)) {\n                if (!this.state.hasTwoCNChar) {\n                    this.setState({\n                        hasTwoCNChar: true\n                    });\n                }\n            } else if (this.state.hasTwoCNChar) {\n                this.setState({\n                    hasTwoCNChar: false\n                });\n            }\n        }\n    }, {\n        key: 'isNeedInserted',\n        value: function isNeedInserted() {\n            var _props = this.props,\n                loading = _props.loading,\n                icon = _props.icon,\n                children = _props.children;\n\n            var iconType = loading ? 'loading' : icon;\n            return React.Children.count(children) === 1 && (!iconType || iconType === 'loading');\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _classNames,\n                _this3 = this;\n\n            var _a = this.props,\n                type = _a.type,\n                shape = _a.shape,\n                size = _a.size,\n                className = _a.className,\n                htmlType = _a.htmlType,\n                children = _a.children,\n                icon = _a.icon,\n                prefixCls = _a.prefixCls,\n                ghost = _a.ghost,\n                others = __rest(_a, [\"type\", \"shape\", \"size\", \"className\", \"htmlType\", \"children\", \"icon\", \"prefixCls\", \"ghost\"]);var _state = this.state,\n                loading = _state.loading,\n                clicked = _state.clicked,\n                hasTwoCNChar = _state.hasTwoCNChar;\n            // large => lg\n            // small => sm\n\n            var sizeCls = '';\n            switch (size) {\n                case 'large':\n                    sizeCls = 'lg';\n                    break;\n                case 'small':\n                    sizeCls = 'sm';\n                default:\n                    break;\n            }\n            var ComponentProp = others.href ? 'a' : 'button';\n            var classes = classNames(prefixCls, className, (_classNames = {}, _defineProperty(_classNames, prefixCls + '-' + type, type), _defineProperty(_classNames, prefixCls + '-' + shape, shape), _defineProperty(_classNames, prefixCls + '-' + sizeCls, sizeCls), _defineProperty(_classNames, prefixCls + '-icon-only', !children && icon), _defineProperty(_classNames, prefixCls + '-loading', loading), _defineProperty(_classNames, prefixCls + '-clicked', clicked), _defineProperty(_classNames, prefixCls + '-background-ghost', ghost), _defineProperty(_classNames, prefixCls + '-two-chinese-chars', hasTwoCNChar), _classNames));\n            var iconType = loading ? 'loading' : icon;\n            var iconNode = iconType ? React.createElement(Icon, { type: iconType }) : null;\n            var kids = children || children === 0 ? React.Children.map(children, function (child) {\n                return insertSpace(child, _this3.isNeedInserted());\n            }) : null;\n            return React.createElement(\n                ComponentProp,\n                _extends({}, omit(others, ['loading']), { type: others.href ? undefined : htmlType || 'button', className: classes, onClick: this.handleClick }),\n                iconNode,\n                kids\n            );\n        }\n    }]);\n\n    return Button;\n}(React.Component);\n\nexport default Button;\n\nButton.__ANT_BUTTON = true;\nButton.defaultProps = {\n    prefixCls: 'ant-btn',\n    loading: false,\n    ghost: false\n};\nButton.propTypes = {\n    type: PropTypes.string,\n    shape: PropTypes.oneOf(['circle', 'circle-outline']),\n    size: PropTypes.oneOf(['large', 'default', 'small']),\n    htmlType: PropTypes.oneOf(['submit', 'button', 'reset']),\n    onClick: PropTypes.func,\n    loading: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n    className: PropTypes.string,\n    icon: PropTypes.string\n};"]},"metadata":{},"sourceType":"module"}