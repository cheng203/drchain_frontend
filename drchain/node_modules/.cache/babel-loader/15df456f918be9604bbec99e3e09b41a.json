{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport createReactClass from 'create-react-class';\nimport Animate from 'rc-animate';\nimport { connect } from 'mini-store';\nimport { default as MenuMixin, getActiveKey } from './MenuMixin';\nvar SubPopupMenu = createReactClass({\n  displayName: 'SubPopupMenu',\n  propTypes: {\n    onSelect: PropTypes.func,\n    onClick: PropTypes.func,\n    onDeselect: PropTypes.func,\n    onOpenChange: PropTypes.func,\n    onDestroy: PropTypes.func,\n    openTransitionName: PropTypes.string,\n    openAnimation: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    openKeys: PropTypes.arrayOf(PropTypes.string),\n    visible: PropTypes.bool,\n    children: PropTypes.any\n  },\n  mixins: [MenuMixin],\n  getInitialState: function getInitialState() {\n    var _extends2;\n\n    var props = this.props;\n    props.store.setState({\n      activeKey: _extends({}, props.store.getState().activeKey, (_extends2 = {}, _extends2[props.eventKey] = getActiveKey(props, props.activeKey), _extends2))\n    });\n    return {};\n  },\n  componentDidMount: function componentDidMount() {\n    // invoke customized ref to expose component to mixin\n    if (this.props.manualRef) {\n      this.props.manualRef(this);\n    }\n  },\n  onDeselect: function onDeselect(selectInfo) {\n    this.props.onDeselect(selectInfo);\n  },\n  onSelect: function onSelect(selectInfo) {\n    this.props.onSelect(selectInfo);\n  },\n  onClick: function onClick(e) {\n    this.props.onClick(e);\n  },\n  onOpenChange: function onOpenChange(e) {\n    this.props.onOpenChange(e);\n  },\n  onDestroy: function onDestroy(key) {\n    this.props.onDestroy(key);\n  },\n  getOpenTransitionName: function getOpenTransitionName() {\n    return this.props.openTransitionName;\n  },\n  renderMenuItem: function renderMenuItem(c, i, subIndex, subMenuKey) {\n    if (!c) {\n      return null;\n    }\n\n    var props = this.props;\n    var extraProps = {\n      openKeys: props.openKeys,\n      selectedKeys: props.selectedKeys,\n      triggerSubMenuAction: props.triggerSubMenuAction,\n      subMenuKey: subMenuKey\n    };\n    return this.renderCommonMenuItem(c, i, subIndex, extraProps);\n  },\n  render: function render() {\n    var props = _extends({}, this.props);\n\n    var haveRendered = this.haveRendered;\n    this.haveRendered = true;\n    this.haveOpened = this.haveOpened || props.visible || props.forceSubMenuRender;\n\n    if (!this.haveOpened) {\n      return null;\n    }\n\n    var transitionAppear = !(!haveRendered && props.visible && props.mode === 'inline');\n    props.className += ' ' + props.prefixCls + '-sub';\n    var animProps = {};\n\n    if (props.openTransitionName) {\n      animProps.transitionName = props.openTransitionName;\n    } else if (typeof props.openAnimation === 'object') {\n      animProps.animation = _extends({}, props.openAnimation);\n\n      if (!transitionAppear) {\n        delete animProps.animation.appear;\n      }\n    }\n\n    return React.createElement(Animate, _extends({}, animProps, {\n      showProp: 'visible',\n      component: '',\n      transitionAppear: transitionAppear\n    }), this.renderRoot(props));\n  }\n});\nexport default connect()(SubPopupMenu);","map":{"version":3,"sources":["/Users/administrator/Desktop/DrChain/drchain_frontend/drchain/node_modules/rc-menu/es/SubPopupMenu.js"],"names":["_extends","React","PropTypes","createReactClass","Animate","connect","default","MenuMixin","getActiveKey","SubPopupMenu","displayName","propTypes","onSelect","func","onClick","onDeselect","onOpenChange","onDestroy","openTransitionName","string","openAnimation","oneOfType","object","openKeys","arrayOf","visible","bool","children","any","mixins","getInitialState","_extends2","props","store","setState","activeKey","getState","eventKey","componentDidMount","manualRef","selectInfo","e","key","getOpenTransitionName","renderMenuItem","c","i","subIndex","subMenuKey","extraProps","selectedKeys","triggerSubMenuAction","renderCommonMenuItem","render","haveRendered","haveOpened","forceSubMenuRender","transitionAppear","mode","className","prefixCls","animProps","transitionName","animation","appear","createElement","showProp","component","renderRoot"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport createReactClass from 'create-react-class';\nimport Animate from 'rc-animate';\nimport { connect } from 'mini-store';\nimport { default as MenuMixin, getActiveKey } from './MenuMixin';\n\nvar SubPopupMenu = createReactClass({\n  displayName: 'SubPopupMenu',\n\n  propTypes: {\n    onSelect: PropTypes.func,\n    onClick: PropTypes.func,\n    onDeselect: PropTypes.func,\n    onOpenChange: PropTypes.func,\n    onDestroy: PropTypes.func,\n    openTransitionName: PropTypes.string,\n    openAnimation: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    openKeys: PropTypes.arrayOf(PropTypes.string),\n    visible: PropTypes.bool,\n    children: PropTypes.any\n  },\n\n  mixins: [MenuMixin],\n\n  getInitialState: function getInitialState() {\n    var _extends2;\n\n    var props = this.props;\n    props.store.setState({\n      activeKey: _extends({}, props.store.getState().activeKey, (_extends2 = {}, _extends2[props.eventKey] = getActiveKey(props, props.activeKey), _extends2))\n    });\n\n    return {};\n  },\n  componentDidMount: function componentDidMount() {\n    // invoke customized ref to expose component to mixin\n    if (this.props.manualRef) {\n      this.props.manualRef(this);\n    }\n  },\n  onDeselect: function onDeselect(selectInfo) {\n    this.props.onDeselect(selectInfo);\n  },\n  onSelect: function onSelect(selectInfo) {\n    this.props.onSelect(selectInfo);\n  },\n  onClick: function onClick(e) {\n    this.props.onClick(e);\n  },\n  onOpenChange: function onOpenChange(e) {\n    this.props.onOpenChange(e);\n  },\n  onDestroy: function onDestroy(key) {\n    this.props.onDestroy(key);\n  },\n  getOpenTransitionName: function getOpenTransitionName() {\n    return this.props.openTransitionName;\n  },\n  renderMenuItem: function renderMenuItem(c, i, subIndex, subMenuKey) {\n    if (!c) {\n      return null;\n    }\n    var props = this.props;\n    var extraProps = {\n      openKeys: props.openKeys,\n      selectedKeys: props.selectedKeys,\n      triggerSubMenuAction: props.triggerSubMenuAction,\n      subMenuKey: subMenuKey\n    };\n    return this.renderCommonMenuItem(c, i, subIndex, extraProps);\n  },\n  render: function render() {\n    var props = _extends({}, this.props);\n\n    var haveRendered = this.haveRendered;\n    this.haveRendered = true;\n\n    this.haveOpened = this.haveOpened || props.visible || props.forceSubMenuRender;\n    if (!this.haveOpened) {\n      return null;\n    }\n\n    var transitionAppear = !(!haveRendered && props.visible && props.mode === 'inline');\n\n    props.className += ' ' + props.prefixCls + '-sub';\n    var animProps = {};\n    if (props.openTransitionName) {\n      animProps.transitionName = props.openTransitionName;\n    } else if (typeof props.openAnimation === 'object') {\n      animProps.animation = _extends({}, props.openAnimation);\n      if (!transitionAppear) {\n        delete animProps.animation.appear;\n      }\n    }\n\n    return React.createElement(\n      Animate,\n      _extends({}, animProps, {\n        showProp: 'visible',\n        component: '',\n        transitionAppear: transitionAppear\n      }),\n      this.renderRoot(props)\n    );\n  }\n});\n\nexport default connect()(SubPopupMenu);"]},"metadata":{},"sourceType":"module"}