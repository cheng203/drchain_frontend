{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport * as React from 'react';\nimport RcMention, { Nav, toString, toEditorState, getMentions } from 'rc-editor-mention';\nimport classNames from 'classnames';\nimport shallowequal from 'shallowequal';\nimport Icon from '../icon';\n\nvar Mention = function (_React$Component) {\n  _inherits(Mention, _React$Component);\n\n  function Mention(props) {\n    _classCallCheck(this, Mention);\n\n    var _this = _possibleConstructorReturn(this, (Mention.__proto__ || Object.getPrototypeOf(Mention)).call(this, props));\n\n    _this.onSearchChange = function (value, prefix) {\n      if (_this.props.onSearchChange) {\n        return _this.props.onSearchChange(value, prefix);\n      }\n\n      return _this.defaultSearchChange(value);\n    };\n\n    _this.onChange = function (editorState) {\n      if (_this.props.onChange) {\n        _this.props.onChange(editorState);\n      }\n    };\n\n    _this.onFocus = function (ev) {\n      _this.setState({\n        focus: true\n      });\n\n      if (_this.props.onFocus) {\n        _this.props.onFocus(ev);\n      }\n    };\n\n    _this.onBlur = function (ev) {\n      _this.setState({\n        focus: false\n      });\n\n      if (_this.props.onBlur) {\n        _this.props.onBlur(ev);\n      }\n    };\n\n    _this.focus = function () {\n      _this.mentionEle._editor.focusEditor();\n    };\n\n    _this.mentionRef = function (ele) {\n      _this.mentionEle = ele;\n    };\n\n    _this.state = {\n      suggestions: props.suggestions,\n      focus: false\n    };\n    return _this;\n  }\n\n  _createClass(Mention, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var suggestions = nextProps.suggestions;\n\n      if (!shallowequal(suggestions, this.props.suggestions)) {\n        this.setState({\n          suggestions: suggestions\n        });\n      }\n    }\n  }, {\n    key: 'defaultSearchChange',\n    value: function defaultSearchChange(value) {\n      var searchValue = value.toLowerCase();\n      var filteredSuggestions = (this.props.suggestions || []).filter(function (suggestion) {\n        if (suggestion.type && suggestion.type === Nav) {\n          return suggestion.props.value ? suggestion.props.value.toLowerCase().indexOf(searchValue) !== -1 : true;\n        }\n\n        return suggestion.toLowerCase().indexOf(searchValue) !== -1;\n      });\n      this.setState({\n        suggestions: filteredSuggestions\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classNames;\n\n      var _props = this.props,\n          _props$className = _props.className,\n          className = _props$className === undefined ? '' : _props$className,\n          prefixCls = _props.prefixCls,\n          loading = _props.loading,\n          placement = _props.placement;\n      var _state = this.state,\n          suggestions = _state.suggestions,\n          focus = _state.focus;\n      var cls = classNames(className, (_classNames = {}, _defineProperty(_classNames, prefixCls + '-active', focus), _defineProperty(_classNames, prefixCls + '-placement-top', placement === 'top'), _classNames));\n      var notFoundContent = loading ? React.createElement(Icon, {\n        type: 'loading'\n      }) : this.props.notFoundContent;\n      return React.createElement(RcMention, _extends({}, this.props, {\n        className: cls,\n        ref: this.mentionRef,\n        onSearchChange: this.onSearchChange,\n        onChange: this.onChange,\n        onFocus: this.onFocus,\n        onBlur: this.onBlur,\n        suggestions: suggestions,\n        notFoundContent: notFoundContent\n      }));\n    }\n  }]);\n\n  return Mention;\n}(React.Component);\n\nexport default Mention;\nMention.getMentions = getMentions;\nMention.defaultProps = {\n  prefixCls: 'ant-mention',\n  notFoundContent: '无匹配结果，轻敲空格完成输入',\n  loading: false,\n  multiLines: false,\n  placement: 'bottom'\n};\nMention.Nav = Nav;\nMention.toString = toString;\nMention.toContentState = toEditorState;","map":{"version":3,"sources":["/Users/administrator/Desktop/DrChain/drchain_frontend/drchain/node_modules/antd/es/mention/index.js"],"names":["_extends","_defineProperty","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","RcMention","Nav","toString","toEditorState","getMentions","classNames","shallowequal","Icon","Mention","_React$Component","props","_this","__proto__","Object","getPrototypeOf","call","onSearchChange","value","prefix","defaultSearchChange","onChange","editorState","onFocus","ev","setState","focus","onBlur","mentionEle","_editor","focusEditor","mentionRef","ele","state","suggestions","key","componentWillReceiveProps","nextProps","searchValue","toLowerCase","filteredSuggestions","filter","suggestion","type","indexOf","render","_classNames","_props","_props$className","className","undefined","prefixCls","loading","placement","_state","cls","notFoundContent","createElement","ref","Component","defaultProps","multiLines","toContentState"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport * as React from 'react';\nimport RcMention, { Nav, toString, toEditorState, getMentions } from 'rc-editor-mention';\nimport classNames from 'classnames';\nimport shallowequal from 'shallowequal';\nimport Icon from '../icon';\n\nvar Mention = function (_React$Component) {\n    _inherits(Mention, _React$Component);\n\n    function Mention(props) {\n        _classCallCheck(this, Mention);\n\n        var _this = _possibleConstructorReturn(this, (Mention.__proto__ || Object.getPrototypeOf(Mention)).call(this, props));\n\n        _this.onSearchChange = function (value, prefix) {\n            if (_this.props.onSearchChange) {\n                return _this.props.onSearchChange(value, prefix);\n            }\n            return _this.defaultSearchChange(value);\n        };\n        _this.onChange = function (editorState) {\n            if (_this.props.onChange) {\n                _this.props.onChange(editorState);\n            }\n        };\n        _this.onFocus = function (ev) {\n            _this.setState({\n                focus: true\n            });\n            if (_this.props.onFocus) {\n                _this.props.onFocus(ev);\n            }\n        };\n        _this.onBlur = function (ev) {\n            _this.setState({\n                focus: false\n            });\n            if (_this.props.onBlur) {\n                _this.props.onBlur(ev);\n            }\n        };\n        _this.focus = function () {\n            _this.mentionEle._editor.focusEditor();\n        };\n        _this.mentionRef = function (ele) {\n            _this.mentionEle = ele;\n        };\n        _this.state = {\n            suggestions: props.suggestions,\n            focus: false\n        };\n        return _this;\n    }\n\n    _createClass(Mention, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            var suggestions = nextProps.suggestions;\n\n            if (!shallowequal(suggestions, this.props.suggestions)) {\n                this.setState({\n                    suggestions: suggestions\n                });\n            }\n        }\n    }, {\n        key: 'defaultSearchChange',\n        value: function defaultSearchChange(value) {\n            var searchValue = value.toLowerCase();\n            var filteredSuggestions = (this.props.suggestions || []).filter(function (suggestion) {\n                if (suggestion.type && suggestion.type === Nav) {\n                    return suggestion.props.value ? suggestion.props.value.toLowerCase().indexOf(searchValue) !== -1 : true;\n                }\n                return suggestion.toLowerCase().indexOf(searchValue) !== -1;\n            });\n            this.setState({\n                suggestions: filteredSuggestions\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _classNames;\n\n            var _props = this.props,\n                _props$className = _props.className,\n                className = _props$className === undefined ? '' : _props$className,\n                prefixCls = _props.prefixCls,\n                loading = _props.loading,\n                placement = _props.placement;\n            var _state = this.state,\n                suggestions = _state.suggestions,\n                focus = _state.focus;\n\n            var cls = classNames(className, (_classNames = {}, _defineProperty(_classNames, prefixCls + '-active', focus), _defineProperty(_classNames, prefixCls + '-placement-top', placement === 'top'), _classNames));\n            var notFoundContent = loading ? React.createElement(Icon, { type: 'loading' }) : this.props.notFoundContent;\n            return React.createElement(RcMention, _extends({}, this.props, { className: cls, ref: this.mentionRef, onSearchChange: this.onSearchChange, onChange: this.onChange, onFocus: this.onFocus, onBlur: this.onBlur, suggestions: suggestions, notFoundContent: notFoundContent }));\n        }\n    }]);\n\n    return Mention;\n}(React.Component);\n\nexport default Mention;\n\nMention.getMentions = getMentions;\nMention.defaultProps = {\n    prefixCls: 'ant-mention',\n    notFoundContent: '无匹配结果，轻敲空格完成输入',\n    loading: false,\n    multiLines: false,\n    placement: 'bottom'\n};\nMention.Nav = Nav;\nMention.toString = toString;\nMention.toContentState = toEditorState;"]},"metadata":{},"sourceType":"module"}