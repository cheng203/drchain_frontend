{"ast":null,"code":"import _defineProperty from \"babel-runtime/helpers/defineProperty\";\nimport _extends from \"babel-runtime/helpers/extends\";\nimport _classCallCheck from \"babel-runtime/helpers/classCallCheck\";\nimport _createClass from \"babel-runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"babel-runtime/helpers/possibleConstructorReturn\";\nimport _inherits from \"babel-runtime/helpers/inherits\";\nimport _typeof from \"babel-runtime/helpers/typeof\";\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport addEventListener from \"rc-util/es/Dom/addEventListener\";\nimport classNames from 'classnames';\nimport shallowequal from 'shallowequal';\nimport omit from 'omit.js';\nimport getScroll from '../_util/getScroll';\nimport { throttleByAnimationFrameDecorator } from '../_util/throttleByAnimationFrame';\n\nfunction getTargetRect(target) {\n  return target !== window ? target.getBoundingClientRect() : {\n    top: 0,\n    left: 0,\n    bottom: 0\n  };\n}\n\nfunction getOffset(element, target) {\n  var elemRect = element.getBoundingClientRect();\n  var targetRect = getTargetRect(target);\n  var scrollTop = getScroll(target, true);\n  var scrollLeft = getScroll(target, false);\n  var docElem = window.document.body;\n  var clientTop = docElem.clientTop || 0;\n  var clientLeft = docElem.clientLeft || 0;\n  return {\n    top: elemRect.top - targetRect.top + scrollTop - clientTop,\n    left: elemRect.left - targetRect.left + scrollLeft - clientLeft,\n    width: elemRect.width,\n    height: elemRect.height\n  };\n}\n\nfunction noop() {}\n\nfunction getDefaultTarget() {\n  return typeof window !== 'undefined' ? window : null;\n}\n\nvar Affix = function (_React$Component) {\n  _inherits(Affix, _React$Component);\n\n  function Affix() {\n    _classCallCheck(this, Affix);\n\n    var _this = _possibleConstructorReturn(this, (Affix.__proto__ || Object.getPrototypeOf(Affix)).apply(this, arguments));\n\n    _this.events = ['resize', 'scroll', 'touchstart', 'touchmove', 'touchend', 'pageshow', 'load'];\n    _this.eventHandlers = {};\n    _this.state = {\n      affixStyle: undefined,\n      placeholderStyle: undefined\n    };\n\n    _this.saveFixedNode = function (node) {\n      _this.fixedNode = node;\n    };\n\n    _this.savePlaceholderNode = function (node) {\n      _this.placeholderNode = node;\n    };\n\n    return _this;\n  }\n\n  _createClass(Affix, [{\n    key: \"setAffixStyle\",\n    value: function setAffixStyle(e, affixStyle) {\n      var _this2 = this;\n\n      var _props = this.props,\n          _props$onChange = _props.onChange,\n          onChange = _props$onChange === undefined ? noop : _props$onChange,\n          _props$target = _props.target,\n          target = _props$target === undefined ? getDefaultTarget : _props$target;\n      var originalAffixStyle = this.state.affixStyle;\n      var isWindow = target() === window;\n\n      if (e.type === 'scroll' && originalAffixStyle && affixStyle && isWindow) {\n        return;\n      }\n\n      if (shallowequal(affixStyle, originalAffixStyle)) {\n        return;\n      }\n\n      this.setState({\n        affixStyle: affixStyle\n      }, function () {\n        var affixed = !!_this2.state.affixStyle;\n\n        if (affixStyle && !originalAffixStyle || !affixStyle && originalAffixStyle) {\n          onChange(affixed);\n        }\n      });\n    }\n  }, {\n    key: \"setPlaceholderStyle\",\n    value: function setPlaceholderStyle(placeholderStyle) {\n      var originalPlaceholderStyle = this.state.placeholderStyle;\n\n      if (shallowequal(placeholderStyle, originalPlaceholderStyle)) {\n        return;\n      }\n\n      this.setState({\n        placeholderStyle: placeholderStyle\n      });\n    }\n  }, {\n    key: \"syncPlaceholderStyle\",\n    value: function syncPlaceholderStyle(e) {\n      var affixStyle = this.state.affixStyle;\n\n      if (!affixStyle) {\n        return;\n      }\n\n      this.placeholderNode.style.cssText = '';\n      this.setAffixStyle(e, _extends({}, affixStyle, {\n        width: this.placeholderNode.offsetWidth\n      }));\n      this.setPlaceholderStyle({\n        width: this.placeholderNode.offsetWidth\n      });\n    }\n  }, {\n    key: \"updatePosition\",\n    value: function updatePosition(e) {\n      var _props2 = this.props,\n          offsetTop = _props2.offsetTop,\n          offsetBottom = _props2.offsetBottom,\n          offset = _props2.offset,\n          _props2$target = _props2.target,\n          target = _props2$target === undefined ? getDefaultTarget : _props2$target;\n      var targetNode = target(); // Backwards support\n\n      offsetTop = offsetTop || offset;\n      var scrollTop = getScroll(targetNode, true);\n      var affixNode = ReactDOM.findDOMNode(this);\n      var elemOffset = getOffset(affixNode, targetNode);\n      var elemSize = {\n        width: this.fixedNode.offsetWidth,\n        height: this.fixedNode.offsetHeight\n      };\n      var offsetMode = {\n        top: false,\n        bottom: false\n      }; // Default to `offsetTop=0`.\n\n      if (typeof offsetTop !== 'number' && typeof offsetBottom !== 'number') {\n        offsetMode.top = true;\n        offsetTop = 0;\n      } else {\n        offsetMode.top = typeof offsetTop === 'number';\n        offsetMode.bottom = typeof offsetBottom === 'number';\n      }\n\n      var targetRect = getTargetRect(targetNode);\n      var targetInnerHeight = targetNode.innerHeight || targetNode.clientHeight;\n\n      if (scrollTop > elemOffset.top - offsetTop && offsetMode.top) {\n        // Fixed Top\n        var width = elemOffset.width;\n        var top = targetRect.top + offsetTop;\n        this.setAffixStyle(e, {\n          position: 'fixed',\n          top: top,\n          left: targetRect.left + elemOffset.left,\n          width: width\n        });\n        this.setPlaceholderStyle({\n          width: width,\n          height: elemSize.height\n        });\n      } else if (scrollTop < elemOffset.top + elemSize.height + offsetBottom - targetInnerHeight && offsetMode.bottom) {\n        // Fixed Bottom\n        var targetBottomOffet = targetNode === window ? 0 : window.innerHeight - targetRect.bottom;\n        var _width = elemOffset.width;\n        this.setAffixStyle(e, {\n          position: 'fixed',\n          bottom: targetBottomOffet + offsetBottom,\n          left: targetRect.left + elemOffset.left,\n          width: _width\n        });\n        this.setPlaceholderStyle({\n          width: _width,\n          height: elemOffset.height\n        });\n      } else {\n        var affixStyle = this.state.affixStyle;\n\n        if (e.type === 'resize' && affixStyle && affixStyle.position === 'fixed' && affixNode.offsetWidth) {\n          this.setAffixStyle(e, _extends({}, affixStyle, {\n            width: affixNode.offsetWidth\n          }));\n        } else {\n          this.setAffixStyle(e, null);\n        }\n\n        this.setPlaceholderStyle(null);\n      }\n\n      if (e.type === 'resize') {\n        this.syncPlaceholderStyle(e);\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      var target = this.props.target || getDefaultTarget; // Wait for parent component ref has its value\n\n      this.timeout = setTimeout(function () {\n        _this3.setTargetEventListeners(target);\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.target !== nextProps.target) {\n        this.clearEventListeners();\n        this.setTargetEventListeners(nextProps.target); // Mock Event object.\n\n        this.updatePosition({});\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.clearEventListeners();\n      clearTimeout(this.timeout);\n      this.updatePosition.cancel();\n    }\n  }, {\n    key: \"setTargetEventListeners\",\n    value: function setTargetEventListeners(getTarget) {\n      var _this4 = this;\n\n      var target = getTarget();\n\n      if (!target) {\n        return;\n      }\n\n      this.clearEventListeners();\n      this.events.forEach(function (eventName) {\n        _this4.eventHandlers[eventName] = addEventListener(target, eventName, _this4.updatePosition);\n      });\n    }\n  }, {\n    key: \"clearEventListeners\",\n    value: function clearEventListeners() {\n      var _this5 = this;\n\n      this.events.forEach(function (eventName) {\n        var handler = _this5.eventHandlers[eventName];\n\n        if (handler && handler.remove) {\n          handler.remove();\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var className = classNames(_defineProperty({}, this.props.prefixCls || 'ant-affix', this.state.affixStyle));\n      var props = omit(this.props, ['prefixCls', 'offsetTop', 'offsetBottom', 'target', 'onChange']);\n\n      var placeholderStyle = _extends({}, this.state.placeholderStyle, this.props.style);\n\n      return React.createElement(\"div\", _extends({}, props, {\n        style: placeholderStyle,\n        ref: this.savePlaceholderNode\n      }), React.createElement(\"div\", {\n        className: className,\n        ref: this.saveFixedNode,\n        style: this.state.affixStyle\n      }, this.props.children));\n    }\n  }]);\n\n  return Affix;\n}(React.Component);\n\nexport default Affix;\nAffix.propTypes = {\n  offsetTop: PropTypes.number,\n  offsetBottom: PropTypes.number,\n  target: PropTypes.func\n};\n\n__decorate([throttleByAnimationFrameDecorator()], Affix.prototype, \"updatePosition\", null);","map":{"version":3,"sources":["/Users/administrator/Desktop/DrChain/drchain_frontend/drchain/node_modules/antd/es/affix/index.js"],"names":["_defineProperty","_extends","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","_typeof","__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","React","ReactDOM","PropTypes","addEventListener","classNames","shallowequal","omit","getScroll","throttleByAnimationFrameDecorator","getTargetRect","window","getBoundingClientRect","top","left","bottom","getOffset","element","elemRect","targetRect","scrollTop","scrollLeft","docElem","document","body","clientTop","clientLeft","width","height","noop","getDefaultTarget","Affix","_React$Component","_this","__proto__","getPrototypeOf","apply","events","eventHandlers","state","affixStyle","undefined","placeholderStyle","saveFixedNode","node","fixedNode","savePlaceholderNode","placeholderNode","value","setAffixStyle","e","_this2","_props","props","_props$onChange","onChange","_props$target","originalAffixStyle","isWindow","type","setState","affixed","setPlaceholderStyle","originalPlaceholderStyle","syncPlaceholderStyle","style","cssText","offsetWidth","updatePosition","_props2","offsetTop","offsetBottom","offset","_props2$target","targetNode","affixNode","findDOMNode","elemOffset","elemSize","offsetHeight","offsetMode","targetInnerHeight","innerHeight","clientHeight","position","targetBottomOffet","_width","componentDidMount","_this3","timeout","setTimeout","setTargetEventListeners","componentWillReceiveProps","nextProps","clearEventListeners","componentWillUnmount","clearTimeout","cancel","getTarget","_this4","forEach","eventName","_this5","handler","remove","render","className","prefixCls","createElement","ref","children","Component","propTypes","number","func","prototype"],"mappings":"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","sourcesContent":["import _defineProperty from \"babel-runtime/helpers/defineProperty\";\nimport _extends from \"babel-runtime/helpers/extends\";\nimport _classCallCheck from \"babel-runtime/helpers/classCallCheck\";\nimport _createClass from \"babel-runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"babel-runtime/helpers/possibleConstructorReturn\";\nimport _inherits from \"babel-runtime/helpers/inherits\";\nimport _typeof from \"babel-runtime/helpers/typeof\";\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n    var c = arguments.length,\n        r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n        d;\n    if ((typeof Reflect === \"undefined\" ? \"undefined\" : _typeof(Reflect)) === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n        if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    }return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport addEventListener from \"rc-util/es/Dom/addEventListener\";\nimport classNames from 'classnames';\nimport shallowequal from 'shallowequal';\nimport omit from 'omit.js';\nimport getScroll from '../_util/getScroll';\nimport { throttleByAnimationFrameDecorator } from '../_util/throttleByAnimationFrame';\nfunction getTargetRect(target) {\n    return target !== window ? target.getBoundingClientRect() : { top: 0, left: 0, bottom: 0 };\n}\nfunction getOffset(element, target) {\n    var elemRect = element.getBoundingClientRect();\n    var targetRect = getTargetRect(target);\n    var scrollTop = getScroll(target, true);\n    var scrollLeft = getScroll(target, false);\n    var docElem = window.document.body;\n    var clientTop = docElem.clientTop || 0;\n    var clientLeft = docElem.clientLeft || 0;\n    return {\n        top: elemRect.top - targetRect.top + scrollTop - clientTop,\n        left: elemRect.left - targetRect.left + scrollLeft - clientLeft,\n        width: elemRect.width,\n        height: elemRect.height\n    };\n}\nfunction noop() {}\nfunction getDefaultTarget() {\n    return typeof window !== 'undefined' ? window : null;\n}\n\nvar Affix = function (_React$Component) {\n    _inherits(Affix, _React$Component);\n\n    function Affix() {\n        _classCallCheck(this, Affix);\n\n        var _this = _possibleConstructorReturn(this, (Affix.__proto__ || Object.getPrototypeOf(Affix)).apply(this, arguments));\n\n        _this.events = ['resize', 'scroll', 'touchstart', 'touchmove', 'touchend', 'pageshow', 'load'];\n        _this.eventHandlers = {};\n        _this.state = {\n            affixStyle: undefined,\n            placeholderStyle: undefined\n        };\n        _this.saveFixedNode = function (node) {\n            _this.fixedNode = node;\n        };\n        _this.savePlaceholderNode = function (node) {\n            _this.placeholderNode = node;\n        };\n        return _this;\n    }\n\n    _createClass(Affix, [{\n        key: \"setAffixStyle\",\n        value: function setAffixStyle(e, affixStyle) {\n            var _this2 = this;\n\n            var _props = this.props,\n                _props$onChange = _props.onChange,\n                onChange = _props$onChange === undefined ? noop : _props$onChange,\n                _props$target = _props.target,\n                target = _props$target === undefined ? getDefaultTarget : _props$target;\n\n            var originalAffixStyle = this.state.affixStyle;\n            var isWindow = target() === window;\n            if (e.type === 'scroll' && originalAffixStyle && affixStyle && isWindow) {\n                return;\n            }\n            if (shallowequal(affixStyle, originalAffixStyle)) {\n                return;\n            }\n            this.setState({ affixStyle: affixStyle }, function () {\n                var affixed = !!_this2.state.affixStyle;\n                if (affixStyle && !originalAffixStyle || !affixStyle && originalAffixStyle) {\n                    onChange(affixed);\n                }\n            });\n        }\n    }, {\n        key: \"setPlaceholderStyle\",\n        value: function setPlaceholderStyle(placeholderStyle) {\n            var originalPlaceholderStyle = this.state.placeholderStyle;\n            if (shallowequal(placeholderStyle, originalPlaceholderStyle)) {\n                return;\n            }\n            this.setState({ placeholderStyle: placeholderStyle });\n        }\n    }, {\n        key: \"syncPlaceholderStyle\",\n        value: function syncPlaceholderStyle(e) {\n            var affixStyle = this.state.affixStyle;\n\n            if (!affixStyle) {\n                return;\n            }\n            this.placeholderNode.style.cssText = '';\n            this.setAffixStyle(e, _extends({}, affixStyle, { width: this.placeholderNode.offsetWidth }));\n            this.setPlaceholderStyle({\n                width: this.placeholderNode.offsetWidth\n            });\n        }\n    }, {\n        key: \"updatePosition\",\n        value: function updatePosition(e) {\n            var _props2 = this.props,\n                offsetTop = _props2.offsetTop,\n                offsetBottom = _props2.offsetBottom,\n                offset = _props2.offset,\n                _props2$target = _props2.target,\n                target = _props2$target === undefined ? getDefaultTarget : _props2$target;\n\n            var targetNode = target();\n            // Backwards support\n            offsetTop = offsetTop || offset;\n            var scrollTop = getScroll(targetNode, true);\n            var affixNode = ReactDOM.findDOMNode(this);\n            var elemOffset = getOffset(affixNode, targetNode);\n            var elemSize = {\n                width: this.fixedNode.offsetWidth,\n                height: this.fixedNode.offsetHeight\n            };\n            var offsetMode = {\n                top: false,\n                bottom: false\n            };\n            // Default to `offsetTop=0`.\n            if (typeof offsetTop !== 'number' && typeof offsetBottom !== 'number') {\n                offsetMode.top = true;\n                offsetTop = 0;\n            } else {\n                offsetMode.top = typeof offsetTop === 'number';\n                offsetMode.bottom = typeof offsetBottom === 'number';\n            }\n            var targetRect = getTargetRect(targetNode);\n            var targetInnerHeight = targetNode.innerHeight || targetNode.clientHeight;\n            if (scrollTop > elemOffset.top - offsetTop && offsetMode.top) {\n                // Fixed Top\n                var width = elemOffset.width;\n                var top = targetRect.top + offsetTop;\n                this.setAffixStyle(e, {\n                    position: 'fixed',\n                    top: top,\n                    left: targetRect.left + elemOffset.left,\n                    width: width\n                });\n                this.setPlaceholderStyle({\n                    width: width,\n                    height: elemSize.height\n                });\n            } else if (scrollTop < elemOffset.top + elemSize.height + offsetBottom - targetInnerHeight && offsetMode.bottom) {\n                // Fixed Bottom\n                var targetBottomOffet = targetNode === window ? 0 : window.innerHeight - targetRect.bottom;\n                var _width = elemOffset.width;\n                this.setAffixStyle(e, {\n                    position: 'fixed',\n                    bottom: targetBottomOffet + offsetBottom,\n                    left: targetRect.left + elemOffset.left,\n                    width: _width\n                });\n                this.setPlaceholderStyle({\n                    width: _width,\n                    height: elemOffset.height\n                });\n            } else {\n                var affixStyle = this.state.affixStyle;\n\n                if (e.type === 'resize' && affixStyle && affixStyle.position === 'fixed' && affixNode.offsetWidth) {\n                    this.setAffixStyle(e, _extends({}, affixStyle, { width: affixNode.offsetWidth }));\n                } else {\n                    this.setAffixStyle(e, null);\n                }\n                this.setPlaceholderStyle(null);\n            }\n            if (e.type === 'resize') {\n                this.syncPlaceholderStyle(e);\n            }\n        }\n    }, {\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n            var _this3 = this;\n\n            var target = this.props.target || getDefaultTarget;\n            // Wait for parent component ref has its value\n            this.timeout = setTimeout(function () {\n                _this3.setTargetEventListeners(target);\n            });\n        }\n    }, {\n        key: \"componentWillReceiveProps\",\n        value: function componentWillReceiveProps(nextProps) {\n            if (this.props.target !== nextProps.target) {\n                this.clearEventListeners();\n                this.setTargetEventListeners(nextProps.target);\n                // Mock Event object.\n                this.updatePosition({});\n            }\n        }\n    }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n            this.clearEventListeners();\n            clearTimeout(this.timeout);\n            this.updatePosition.cancel();\n        }\n    }, {\n        key: \"setTargetEventListeners\",\n        value: function setTargetEventListeners(getTarget) {\n            var _this4 = this;\n\n            var target = getTarget();\n            if (!target) {\n                return;\n            }\n            this.clearEventListeners();\n            this.events.forEach(function (eventName) {\n                _this4.eventHandlers[eventName] = addEventListener(target, eventName, _this4.updatePosition);\n            });\n        }\n    }, {\n        key: \"clearEventListeners\",\n        value: function clearEventListeners() {\n            var _this5 = this;\n\n            this.events.forEach(function (eventName) {\n                var handler = _this5.eventHandlers[eventName];\n                if (handler && handler.remove) {\n                    handler.remove();\n                }\n            });\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            var className = classNames(_defineProperty({}, this.props.prefixCls || 'ant-affix', this.state.affixStyle));\n            var props = omit(this.props, ['prefixCls', 'offsetTop', 'offsetBottom', 'target', 'onChange']);\n            var placeholderStyle = _extends({}, this.state.placeholderStyle, this.props.style);\n            return React.createElement(\n                \"div\",\n                _extends({}, props, { style: placeholderStyle, ref: this.savePlaceholderNode }),\n                React.createElement(\n                    \"div\",\n                    { className: className, ref: this.saveFixedNode, style: this.state.affixStyle },\n                    this.props.children\n                )\n            );\n        }\n    }]);\n\n    return Affix;\n}(React.Component);\n\nexport default Affix;\n\nAffix.propTypes = {\n    offsetTop: PropTypes.number,\n    offsetBottom: PropTypes.number,\n    target: PropTypes.func\n};\n__decorate([throttleByAnimationFrameDecorator()], Affix.prototype, \"updatePosition\", null);"]},"metadata":{},"sourceType":"module"}